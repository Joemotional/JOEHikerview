[{"last_chapter_rule":"","title":"虎牙直播.多线路","author":"w","version":3,"type":"live","url":"https://www.huya.com/cache.php?m=LiveList&do=getLiveListByPage&gameId=fyAll&tagAll=0&page=fypage","col_type":"movie_1","class_name":"王者荣耀&绝地求生&刺激战场&DOTA2&英雄联盟&我的世界","class_url":"2336&2793&3203&7&1&1732","area_name":"","area_url":"","sort_name":"直播间关注","year_name":"美食&星秀&吃喝玩乐&一起看&二次元&颜值","sort_url":"寒夜@hy777#营地杯@22478073#韩涵@774810#甜甜珂@495314#阿欢@394932#灵儿@238197#宸宸@271423#鱼仔@25478791#守着他@128973#北慕@31520#微凉@591756#张大仙@688#草莓@577368#三国杀周周@764680#老七@498218#名人赛@660282","year_url":"2752&1663&100044&2135&2633&2168","find_rule":"js:\nvar s = getResCode();\nvar json={};\n      eval('json=' + s);\nvar res={};\nvar d=[];\n//处理直播间关注\n//直播间关注和回放代码由wingeva大佬提供。\nvar rule=JSON.parse(getRule());\nif (rule.firstHeader==\"sort\"){\n  var rooms=rule.sort_url.split(\"#\");\n  for (room of rooms)\n\td.push({col_type:\"text_2\",title:room.split(\"@\")[0],url:\"https://www.huya.com/\"+room.split(\"@\")[1]});\n}else{\n//\n       for(var i=0;i<json.data.datas.length;i++)\n{\nvar j = json.data.datas[i];\nvar r = {};\n       r.pic_url=j.screenshot;\n       r.desc =\"👤\"+ j.nick +\"📺\" +j.totalCount;\n       r.title=\"🔗\"+j.bluRayMBitRate+ \"📙\"+j.introduction;\n       r.url=\"https://www.huya.com/\" + j.profileRoom;\n      d.push(r);\n}\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js: var json = {};\nvar src = getResCode()\r\neval('json=' + src);\r\nvar res = {};\r\nvar d = [];\r\nfor (var i = 0; i < json.response[\"1\"].docs.length; i++) {\r\n    \r\n    var j = json.response[\"1\"].docs[i];\n    var r = {};\r\n    r.content = j.game_introduction;\n    r.url = 'https://www.huya.com/' + j.room_id;\r\n    r.desc = j.game_name+(j.gameLiveOn?' • 在播':'');\n    r.title = j.game_nick;\r\n    r.img = j.game_screenshot;\r\n    d.push(r);\r\n}\r\nres.data = d;\r\nsetSearchResult(res);","search_url":"https://search.cdn.huya.com/?m=Search&do=getSearchContent&plt=m&q=**&uid=0&app=11&v=4&typ=-5&start=fypage@-1@*40@&rows=40","group":"其它","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar items = [];\n\n//取手机版网页播放地址\n\nvar lazy_m=`@lazyRule=.js:var html=request(input.split('##')[0].replace('www.huya','m.huya'));var srcs = html.match(/\"liveLineUrl\":\"([^\"]*)\"/)[1];let p=$.require('hiker://page/mobile?rule=虎牙直播.多线路');JSON.stringify({urls:[p.getVid(base64Decode(srcs))],danmu:input.split('##')[1]});`\n\n\n\nvar html=getResCode();\n\n\nvar room_var=html.match(/var TT_ROOM_DATA[^\\}]+\\};/)[0]\nroom_var+=html.match(/var TT_PROFILE_INFO[^\\}]+\\};/)[0];\n\nroom_var+=html.match(/var hyPlayerConfig =[^;]+;/)[0];\n\neval(room_var);\n\n\n///stream\".*?\"(.*?)\"/.test(html);\n\nif(TT_ROOM_DATA.isOn){\n//取电脑版json内容\nvar stream=hyPlayerConfig.stream;///\"\nvar json = typeof stream=='string'?JSON.parse(base64Decode(stream)):stream;\n//eval('json='+jso);\n//setError(jso);\n\n\nitems.push({\n    title: '',\n    desc: '100%&&float',\n    col_type: 'x5_webview_single'\n});\n\nitems.push({\ntitle: json.data[0].gameLiveInfo.roomName,\n    desc: json.data[0].gameLiveInfo.introduction+'\\n'+json.data[0].gameLiveInfo.totalCount+'人 • '+new Date(parseInt(json.data[0].gameLiveInfo.startTime)*1000).toLocaleTimeString().split(' G')[0],\n    pic_url:json.data[0].gameLiveInfo.screenshot,\n    \n    url: getUrl() + `@lazyRule=.js:'x5WebView://'+input`,\n    col_type: 'movie_1_left_pic'});\n\nitems.push({col_type:'line_blank'});\n\n\n/*get sid tid yyid*/\n\n\n\n\nfor (var i = 0; i < json.vMultiStreamInfo.length; i++) {\r\n    var r = {};\r\n    var j = json.vMultiStreamInfo[i];\r\n    r.title = j.sDisplayName;\n    r.url = getUrl();\n    r.col_type = 'text_center_1';\n    items.push(r);\n\n    for (var i2 = 0; i2< json.data[0].gameStreamInfoList.length; i2++) {\n        var r2 = {};\n        var j2 = json.data[0].gameStreamInfoList[i2];\n     if(j.iBitRate==0){j.iBitRate=json.data[0].gameLiveInfo.bitRate}\nvUrl=getVar('huya$vidtype','.flv')=='.flv'?j2.sFlvUrl:j2.sHlsUrl;\nantiCode=(getVar('huya$vidtype','.flv')=='.flv'?j2.sFlvAntiCode:j2.sHlsAntiCode).replace(/&amp;/g,'&');\nsuffix=getVar('huya$vidtype','.flv');\n        var Hls =vUrl+'/'+j2.sStreamName+suffix+'?ratio='+j.iBitRate+'&'+antiCode;\n//base64Decode(srcs).replace(/.*\\/src/,j2.sHlsUrl).replace(/_.*m3u8/,\"_\"+j.iBitRate+\".m3u8\");\nif(Hls.substring(0,2)=='//'){Hls='https:'+Hls}\n        r2.title = j2.sCdnType;\n        r2.url ={urls:[Hls],danmu:'web://hiker://files/rules/huya/index.html?id='+TT_ROOM_DATA.id+'&sid='+TT_ROOM_DATA.sid+'&cid='+TT_ROOM_DATA.channel+''};\n        r2.col_type = 'text_4';\n        items.push(r2);\n    }\n}\nitems.push({title:'‘‘移动端播放源(一起看)’’',col_type:'text_center_1',url:getUrl()+'##web://hiker://files/rules/huya/index.html?id='+TT_ROOM_DATA.id+'&sid='+TT_ROOM_DATA.sid+'&cid='+TT_ROOM_DATA.channel+lazy_m});\n\nitems.push({col_type:\"rich_text\",title:`<small>当前视频格式为：<a href=\"hiker://empty@lazyRule=.js:putVar('huya$vidtype',getVar('huya$vidtype','.flv')=='.flv'?'.m3u8':'.flv');refreshPage();'toast://已切换模式';\">`+(getVar('huya$vidtype','.flv')=='.flv'?'.flv(推荐)':'.m3u8')+\"</a></small>\"});\n\n\n\n}//islive\nelse{\nlet notice=$.require('hiker://page/notice?rule=虎牙直播.多线路'); items.push({col_type:\"text_center_1\",title:\"‘‘主播不在家（点击查看通知）’’\",url:notice.getNotice(TT_PROFILE_INFO.lp)});\n \n}\n\n//直播间关注和回放代码由wingeva大佬提供。\n\n//回放\n\nitems.push({col_type:'line_blank'});\nvar rule=`@rule=js:var items=[];var pn=MY_URL.match(/p=(\\\\d+)/)[1];if(pn<2){for(i=0;i<4;i++)items.push({col_type:\"text_2\",title:\"线路\"+(i+1),url:\"hiker://empty@lazyRule=.js:putVar('huya$replay','\"+i+\"');'toast://已切换线路';\"});items.push({col_type:'line_blank'});}var lists=parseDomForArray(getResCode(),'body&&.J_liveSection');for(list of lists){items.push({title:parseDomForHtml(list,'.header-title&&Text'),col_type:'text_1'});var vids=parseDomForArray(list,'.J_liveSectionList&&li');for(vid of vids) items.push({col_type:\"pic_2\",title:parseDomForHtml(vid,'.card-title&&Text'),desc:parseDomForHtml(vid,'.card-detail&&Text'),url:\"https://v-api-player-ssl.huya.com/?r=vhuyaplay%2Fvideo&vid=\"+parseDomForHtml(vid,'a&&href').match(/play\\\\/(.+?)\\\\./)[1]+\"&format=mp4%2Cm3u8\"+\"@lazyRule=.js:var html=fetch(input,{headers:{'User-Agent':MOBILE_UA}});var lines=JSON.parse(html).result.items;lines[getVar('huya$replay','0')%(lines.length)].transcode.urls[0]\",pic_url:parseDomForHtml(vid,'img&&src')});} setHomeResult({data:items});`\n\n//var uid=/ ayyuid: '(.*?)'/.test(mlink)?RegExp.$1:'';\nvar uid=parseDomForHtml(getResCode(),'body&&a[class=host-video]&&href');\n\nuid&&items.push({col_type:\"text_center_1\",title:\"‘‘录像回放’’\",url:uid+\"/livevideo.html?p=fypage\"+rule});\n\n\nres.data = items;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"pc","preRule":"if(!getVar('huya$vidtype'))\nputVar('huya$vidtype','.flv');\n\nrequireDownload('https://file.aaahiker.ga/huyalib/index.html', 'hiker://files/rules/huya/index.html')\nrequireDownload('https://file.aaahiker.ga/huyalib/huya_lib.js', 'hiker://files/rules/huya/huya_lib.js')\nrequireDownload('https://file.aaahiker.ga/huyalib/vue.min.js', 'hiker://files/rules/huya/vue.min.js')\nrequireDownload('https://file.aaahiker.ga/huyalib/vue-danmaku.umd.min.js', 'hiker://files/rules/huya/vue-danmaku.umd.min.js')\n\n","pages":"[{\"col_type\":\"movie_3\",\"name\":\"notice\",\"path\":\"notice\",\"rule\":\"function getNotice(lp) {\\n    return 'x5Rule://' + 'hiker://empty' + '@' + $.toString((lp) => {\\n        if (window.inject == null) {\\n            window.inject = true;\\n            eval(fy_bridge_app.fetch(\\\"hiker://files/rules/huya/huya_lib.js\\\"));\\n\\n            const ws = new WebSocket(\\\"wss://cdnws.api.huya.com/\\\");\\n            ws.onopen = function(event) {\\n                var livingInfo = new HUYA.GetPresenterLiveScheduleInfoReq();\\n                livingInfo.lPresenterId = lp;\\n                sendWup(\\\"presenterui\\\", \\\"getPresenterLiveScheduleInfo\\\", livingInfo);\\n            }\\n            ws.onmessage = function(event) {\\n                try {\\n                    let fr\\n                    fr = new FileReader();\\n                    fr.onload = function() {\\n                        let data = this.result\\n                        let stream = new Taf.JceInputStream(data);\\n                        let command = new HUYA.WebSocketCommand();\\n                        command.readFrom(stream);\\n                        switch (command.iCmdType) {\\n                            case HUYA.EWebSocketCommandType.EWSCmd_WupRsp:\\n                                try {\\n                                    let wup = new Taf.Wup();\\n                                    wup.decode(command.vData.buffer);\\n                                    let map = new(TafMx.WupMapping[wup.sFuncName])();\\n                                    wup.readStruct('tRsp', map, TafMx.WupMapping[wup.sFuncName]);\\n                                    msg = map.sSchedule + ',' + map.sDescription+'.' + map.sMessage;\\n\\n                                    window.uu = msg\\n                                    ws.close()\\n                                } catch (e) {\\n                                    console.log(e)\\n                                }\\n                                break;\\n                            default:\\n                                break\\n                        }\\n                    }\\n                    fr.readAsArrayBuffer(event.data);\\n                } catch (e) {\\n                    console.log(e)\\n                }\\n            };\\n\\n            function sendWup(action, callback, req) {\\n                try {\\n                    let wup = new Taf.Wup()\\n                    wup.setServant(action)\\n                    wup.setFunc(callback)\\n                    wup.writeStruct(\\\"tReq\\\", req)\\n                    let command = new HUYA.WebSocketCommand()\\n                    command.iCmdType = HUYA.EWebSocketCommandType.EWSCmd_WupReq\\n                    command.vData = wup.encode()\\n                    let stream = new Taf.JceOutputStream()\\n                    command.writeTo(stream)\\n                    ws.send(stream.getBuffer())\\n\\n                } catch (err) {\\n                    console.log(err)\\n                }\\n            }\\n        } else if (window.uu != null) {\\n\\n            return \\\"confirm://\\\" + window.uu + \\\".js:'toast://确认'\\\";\\n        }\\n    }, lp);\\n}\\n$.exports.getNotice = text => getNotice(text);\"},{\"col_type\":\"movie_3\",\"name\":\"mobile\",\"path\":\"mobile\",\"rule\":\"function live(e) {\\n    let query = e.split('?');\\n    let i = query[0];\\n    let b = query[1];\\n    let r = i.split('/');\\n    let s = r[r.length - 1].replace(/\\\\.(flv|m3u8)/g, '');\\n    let c = b.split('&', 4);\\n    let n = {};\\n\\n    for (let i of c) {\\n        if (i != '') {\\n            let pair = i.split('=');\\n            n[pair[0]] = pair[1];\\n        }\\n    }\\n    let fm = unescape(n['fm']);\\n    let u = base64Decode(fm);\\n    let p = u.split('_')[0];\\n    let f = (new Date()).valueOf()*10000+'';\\n    let l = n['wsTime'];\\n    let t = '0';\\n    let h = [p, t, s, f, l].join('_');\\n    let m = md5(h);\\n    let y = c[c.length - 1];\\n    let url = i + \\\"?wsSecret=\\\" + m + \\\"&wsTime=\\\" + l + \\\"&u=\\\" + t + \\\"&seqid=\\\" + f + \\\"&\\\" + y;\\n    url=getVar('huya$vidtype')=='.flv'?url.replace(/(hls|m3u8)/g,'flv'):url;\\n    return 'https:'+url;\\n}\\n$.exports.getVid = text => live(text);\"}]","proxy":"","icon":"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/assets/images/huya.png"},{"last_chapter_rule":"","title":"虎牙直播(推送)","author":"香雅情","version":1,"type":"live","url":"hiker://empty##fypage##","col_type":"movie_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar items = [];\n\nif (MY_PAGE == 1) {\n    items.push({\n        title: (getMyVar('huyazb', '0') == '1' ? '推送🟢' : '推送🔴'),\n        url: `hiker://empty@lazyRule=.js:getMyVar('huyazb','0')=='1'?putMyVar('huyazb','0'):putMyVar('huyazb','1');refreshPage();'toast://切换成功！'`,\n\n        col_type: 'scroll_button'\n    });\n    if (getMyVar('cathtml', '') == '') {\n        var cathtml = fetch('https://www.huya.com/g/', {\n            headers: {\n                'User-Agent': PC_UA\n            }\n        });\n        putMyVar('cathtml', cathtml);\n    }\n    //log(cathtml);\n    putMyVar('defacat', parseDomForHtml(getMyVar('cathtml', ''), '.game-list&&li&&a&&data-gid'));\n    var cate = parseDomForArray(getMyVar('cathtml', ''), '.game-list&&li');\n\n    for (let i = 0; i < cate.length; i++) {\n        //log(parseDomForHtml(cate[i], 'a&&Text'));\n        //log(parseDomForHtml(cate[i], 'a&&data-gid'));\n        items.push({\n            title: (getItem('huyazb', '0') == i ? '👇🏻' : '') + parseDomForHtml(cate[i], 'a&&Text'),\n            url: `hiker://empty@lazyRule=.js:setItem('huyazb', '` + i + `');setItem('huyacat','` + parseDomForHtml(cate[i], 'a&&data-gid') + `');refreshPage();'toast://切换成功！'`,\n\n            col_type: 'scroll_button'\n        });\n    }\n\n}\n\nvar html = fetch('https://www.huya.com/cache.php?m=LiveList&do=getLiveListByPage&gameId=' + getItem('huyacat', getMyVar('defacat')) + '&tagAll=0&page=' + MY_PAGE, {\n    headers: {\n        'User-Agent': PC_UA\n    }\n});\nvar list = JSON.parse(html).data.datas;\n//log(list[0]);\n\nfor (let j = 0; j < list.length; j++) {\n    var desc = list[j].introduction;\n    var img = list[j].screenshot;\n    var url = list[j].profileRoom;\n    var title = list[j].nick;\n    items.push({\n        title: title,\n        pic_url: img,\n        url: $(url).lazyRule((title, img) => {\n            //卷毛鼠直播代理https://github.com/JMSTV/jmstv.github.io\n            //https://epg.112114.xyz/huya/\n            //https://live.52sf.ga/huya/\n            /*\n            var ul = JSON.parse(request('https://epg.112114.xyz/huya/' + input, {\n                redirect: false,\n                withHeaders: true\n            }));\n            return ul.headers.location[0];\n            */\n\n            //let rid = input.split('/').pop();\n            let html = fetch('https://m.huya.com/' + input, {\n                headers: {\n                    \"User-Agent\": MOBILE_UA\n                }\n            });\n\n            let live_json = html.match(/window.HNF_GLOBAL_INIT = (.*?)<\\/script>/)[1];\n            let live = JSON.parse(live_json);\n            let purl = JSON.stringify({\n                name: title,\n                urls: [getRealUrl(base64Decode(live.roomProfile.liveLineUrl)).replace('//', 'http://')],\n                pic: img,\n                guolv: \"#ignoreImg=true#\"\n            });\n\n            //log(purl);\n            if (getMyVar('huyazb', '0') == '1') {\n                return 'hiker://page/push?rule=XYQ推送&pushurl=' + encodeURIComponent(purl.replace(/\\&/g, '＆＆'));\n            } else {\n                return purl\n            }\n            //以下代码来自TyrantG虎牙直播\n            function getRealUrl(live_url) {\n                let [i, b] = live_url.split('?');\n                let r = i.split('/').pop();\n                let s = r.replace(/\\.(flv|m3u8)/, '');\n                let c_tmp = b.split('&').filter(n => n);\n                // let c = []\n                let n = {};\n                let c_tmp2 = [];\n                c_tmp.forEach((tmp, index) => {\n                    if (index < 3) {\n                        // c.push(tmp)\n                        n[tmp.split('=')[0]] = tmp.split('=')[1]\n                    } else {\n                        c_tmp2.push(tmp)\n                    }\n                });\n                let tmp2 = c_tmp2.join('&');\n                n[tmp2.split('=')[0]] = tmp2.split('=')[1];\n\n                let fm = decodeURIComponent(n.fm).split('&')[0];\n                let u = base64Decode(fm);\n                let p = u.split('_')[0];\n                let f = new Date().getTime() + '0000';\n                let ll = n.wsTime;\n                let t = '0';\n                let h = [p, t, s, f, ll].join('_');\n                let m = md5(h);\n                return (i + \"?wsSecret=\" + m + \"&wsTime=\" + ll + \"&u=\" + t + \"&seqid=\" + f + \"&\" + c_tmp2.pop()).replace('hls', 'flv').replace('m3u8', 'flv');\n            }\n\n        }, title, img),\n        desc: desc\n    });\n}\n\nsetHomeResult({\n    data: items\n});","searchFind":"js:\nvar json = JSON.parse(getResCode());\nvar res = {};\nvar d = [];\nfor (var i = 0; i < json.response[\"3\"].docs.length; i++) {\n    var j = json.response[\"3\"].docs[i];\n    d.push({\n        content: j.game_introduction,\n        url: $(j.room_id).lazyRule(() => {\n            var ul = JSON.parse(request('https://live.52sf.ga/huya/' + input, {\n                redirect: false,\n                withHeaders: true\n            }));\n            return ul.headers.location[0];\n        }),\n        desc: j.gameName,\n        title: j.game_nick,\n        img: j.game_screenshot\n    })\n\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://search.cdn.huya.com/?m=Search&do=getSearchContent&plt=m&q=**&uid=0&app=11&v=4&typ=-5&start=fypage@-1@*40@&rows=40;get;utf-8;{User-Agent@Mozilla/5.0 (Linux；； Android 10) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/80.0.3987.132 Mobile Safari/537.36}","group":"其它","detail_col_type":"text_2","detail_find_rule":"","sdetail_col_type":"text_2","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","proxy":"","icon":"https://a.msstatic.com/huya/main3/components/helperbar/img/mm_de16b.png"},{"last_chapter_rule":"","title":"汇影馆","author":"ZHJ","version":0,"type":"live","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {}; //定义一个map 键值 前面是键后面是值 当前值为空\nvar d = [];//自定义一个 空数组\nMY_URL='https://api.live.bilibili&&&&.com/xlive/app-interface/v2/second/getList?actionKey=appkey&appkey=1d8b6e7d45233436&area_id=33&build=7000400&c_locale=zh_CN&cate_id=0&channel=pairui01&device=android&device_name=2201122C&disable_rcmd=0&https_url_req=0&is_refresh=0&mobi_app=android&network=wifi&page='+MY_PAGE+'&page_size=30&parent_area_id=10&platform=android&qn=0&s_locale=zh_CN&sort_type=online&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%227.0.0%22%2C%22abtest%22%3A%22%22%7D&tag_version=1&ts=1665333676&version=7.0.0&sign=5b37ea0f056ff45712da4ea56409ea7d'\nMY_URL=MY_URL.replace('&&&&','')\nlog(MY_URL)\nvar html = request(MY_URL)\n\n//log(html)\n\n\n\n\n\n数据=JSON.parse(html).data.list\n\n\n\n\n\n\nif (MY_PAGE == 1) {\n    d.push({\n        title: \"🔍\",\n        url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n        desc: \"搜你想要...\",\n        col_type: \"input\"\n    });\n}\n\n\n\n\nfor (var i in 数据) {\n\n标题=数据[i].title\n图片=数据[i].system_cover\n链接='https://live.bilibili.com/h5/'+数据[i].roomid\n描述=数据[i].uname\n\n\n\nd.push({\ntitle:标题,\npic_url:图片,\nurl:链接,\ndesc:描述,\ncol_type: \"movie_2\"\n});\n\n\n\n}\n\n           \n\n\n\n\n\n\n\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {}; //定义一个map 键值 前面是键后面是值 当前值为空\nvar d = [];//自定义一个 空数组\n\n关键词=MY_URL.split(\"##\")[2]\nMY_URL='https://app.bilibili.com/x/v2/search/live?actionKey=appkey&appkey=1d8b6e7d45233436&build=7000400&c_locale=zh_CN&channel=pairui01&device=android&disable_rcmd=0&keyword='+关键词+'&mobi_app=android&order=totalrank&platform=android&pn='+MY_PAGE+'&ps=20&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%227.0.0%22%2C%22abtest%22%3A%22%22%7D&ts=1665343684&type=4&version=7.0.0&sign=a9aa21b18222ca38d10b2797d61ff302'\nMY_URL=MY_URL.replace('&&&&','')\nlog(MY_URL)\nvar html = request(MY_URL)\n\n//log(html)\n\n\n\n\n\n数据=JSON.parse(html).data.live_room.items\n\n\n\n\n\n\n\n\n\n\nfor (var i in 数据) {\n\n标题=数据[i].title\n图片=数据[i].cover\n链接='https://live.bilibili.com/h5/'+数据[i].roomid\n描述=数据[i].live_status\n\nif(描述==\"1\")描述=\"正在直播\"\nelse 描述 =\"未开播\"\n\n\nd.push({\ntitle:标题,\npic_url:图片,\nurl:链接,\ndesc:描述,\ncol_type: \"movie_2\"\n});\n\n\n\n}\n\n           \n\n\n\n\n\n\n\nres.data = d;\nsetHomeResult(res);","search_url":"hiker://empty##fypage##**","group":"其它","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {}; //定义一个map 键值 前面是键后面是值 当前值为空\nvar d = [];//自定义一个 空数组\nvar html = request(MY_URL,{\n\nheaders: {\n\n'User-Agent':'Mozilla/5.0 (Linux; Android 12; 2201122C Build/SKQ1.211006.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/95.0.4638.74 Mobile Safari/537.36',\n'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9'\n                }\n\n\n\n\n});\n\n数据=pdfh(html,'head&&script&&Html').replace('window.__NEPTUNE_IS_MY_WAIFU__=','')\n数据=JSON.parse(数据).roomInitRes.data\n\n\n\n\n\n长度=数据.playurl_info.playurl.stream[1].format.length-1\nlog(长度)\n\n\n长度b=数据.playurl_info.playurl.stream[1].format[长度].codec[0].url_info.length-1\nlog(长度b)\n\n\n\n\nhost1=数据.playurl_info.playurl.stream[1].format[长度].codec[0].url_info[长度b].host\nbase_url1=数据.playurl_info.playurl.stream[1].format[长度].codec[0].base_url\nextra1=数据.playurl_info.playurl.stream[1].format[长度].codec[0].url_info[长度b].extra\n\nlog(数据.playurl_info.playurl.stream[1])\n\n\n\n\nhost2=数据.playurl_info.playurl.stream[0].format[0].codec[0].url_info[0].host\nbase_url2=数据.playurl_info.playurl.stream[0].format[0].codec[0].base_url\nextra2=数据.playurl_info.playurl.stream[0].format[0].codec[0].url_info[0].extra\n\n\n\nhost3=数据.playurl_info.playurl.stream[1].format[长度].codec[0].url_info[0].host\nbase_url3=数据.playurl_info.playurl.stream[1].format[长度].codec[0].base_url\nextra3=数据.playurl_info.playurl.stream[1].format[长度].codec[0].url_info[0].extra\n\n\n\n\n链接1=host1+base_url1+extra1\n链接2=host2+base_url2+extra2\n链接3=host3+base_url3+extra3\nd.push({\ntitle:\"线路一\",\n//pic_url:,\nurl:链接1,\n//desc:,\ncol_type: \"text_center_1\"\n});\n\n\nd.push({\ntitle:\"线路二\",\n//pic_url:,\nurl:链接2,\n//desc:,\ncol_type: \"text_center_1\"\n});\n\nif(链接3!=链接2)\nd.push({\ntitle:\"线路三\",\n//pic_url:,\nurl:链接3,\n//desc:,\ncol_type: \"text_center_1\",extra: {lineVisible: false}\n});\n\nd.push({\ntitle:\"分割线\",\n//pic_url:,\n//url:链接3,\n//desc:,\ncol_type: \"line_blank\"\n});\n\n\n\nd.push({\ntitle:\"““如果每条线路都无法播放就表示无法播放””\",\n//pic_url:,\n//url:链接3,\n//desc:,\ncol_type: \"text_center_1\",extra: {lineVisible: false}\n});\n\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://iconfont.tyrantg.com/api/illustrate.svg?svg_string=%3Csvg%20class%3D%22icon%22%20style%3D%22width%3A%201em%3Bheight%3A%201em%3Bvertical-align%3A%20middle%3Bfill%3A%20currentColor%3Boverflow%3A%20hidden%3B%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M977.2%20208.2c33.4%2036.2%2048.8%2079.4%2046.6%20131.4v404.8c-0.8%2052.8-18.4%2096.2-53%20130.2-34.4%2034-78.2%2051.8-131%2053.4H184.04c-52.9-1.6-96.42-19.6-130.56-54.4C19.364%20838.8%201.534%20793%200%20736.4V339.6c1.534-52%2019.364-95.2%2053.48-131.4C87.62%20175.5%20131.14%20157.54%20184.04%20156h58.76L192.1%20104.38c-11.5-11.46-17.26-26-17.26-43.58%200-17.6%205.76-32.12%2017.26-43.594C203.6%205.736%20218.2%200%20235.8%200s32.2%205.736%2043.8%2017.206L426.2%20156h176l149-138.794C763.4%205.736%20778.4%200%20796%200c17.6%200%2032.2%205.736%2043.8%2017.206%2011.4%2011.474%2017.2%2025.994%2017.2%2043.594%200%2017.58-5.8%2032.12-17.2%2043.58L789.2%20156h58.6c52.8%201.54%2096%2019.5%20129.4%2052.2z%20m-77.6%20139.4c-0.8-19.2-7.4-34.8-21.4-47-10.4-12.2-28-18.8-45.4-19.6H192.1c-19.18%200.8-34.9%207.4-47.16%2019.6-12.28%2012.2-18.8%2027.8-19.56%2047v388.8c0%2018.4%206.52%2034%2019.56%2047s28.76%2019.6%2047.16%2019.6H832.8c18.4%200%2034-6.6%2046.6-19.6%2012.6-13%2019.4-28.6%2020.2-47V347.6z%20m-528.6%2085.4c12.6%2012.6%2019.4%2028.2%2020.2%2046.4V546c-0.8%2018.4-7.4%2033.8-19.6%2046.4-12.4%2012.6-28%2019-47.2%2019-19.2%200-35-6.4-47.2-19-12.2-12.6-18.8-28-19.6-46.4v-66.6c0.8-18.2%207.6-33.8%2020.2-46.4%2012.6-12.6%2026.4-19.2%2046.6-20%2018.4%200.8%2034%207.4%2046.6%2020z%20m383%200c12.6%2012.6%2019.4%2028.2%2020.2%2046.4V546c-0.8%2018.4-7.4%2033.8-19.6%2046.4-12.2%2012.6-28%2019-47.2%2019-19.2%200-34.8-6.4-47.2-19-14-12.6-18.8-28-19.4-46.4v-66.6c0.6-18.2%207.4-33.8%2020-46.4%2012.6-12.6%2028.2-19.2%2046.6-20%2018.4%200.8%2034%207.4%2046.6%2020z%22%20%2F%3E%3C%2Fsvg%3E"},{"last_chapter_rule":"","title":"虎牙一起看","author":"ZHJ","version":0,"type":"live","url":"https://www.huya.com/cache.php?m=LiveList&do=getLiveListByPage&gameId=2135&tagAll=0&callback=getLiveListJsonpCallback&page=fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {}; //定义一个map 键值 前面是键后面是值 当前值为空\nvar d = [];//自定义一个 空数组\nvar html = getResCode();\n\n\neval(JSON.parse(request('hiker://page/lazy')).rule)\n\nhtml=html.split(\"getLiveListJsonpCallback(\")[1].split(\")\")[0]\n\n\nif (MY_PAGE == 1) {\n    d.push({\n        title: \"🔍\",\n        url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n        desc: \"搜你想要...\",\n        col_type: \"input\"\n    });\n}\n\n数据=JSON.parse(html).data.datas\n\n\n\n\n\n\n\n\n\n\nfor (var i in 数据) {\n\n标题=数据[i].roomName\n图片=数据[i].screenshot\n链接='https://www.huya.com/'+数据[i].profileRoom\n描述=\"热度:\"+数据[i].totalCount\n\n\n\nd.push({\ntitle:标题,\npic_url:图片,\nurl:链接+lazy,\ndesc:描述,\ncol_type: \"movie_2\"\n});\n\n\n\n}\n\n           \n\n\n\n\n\n\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {}; //定义一个map 键值 前面是键后面是值 当前值为空\nvar d = [];//自定义一个 空数组\nvar html = request(MY_URL);\n\n\neval(JSON.parse(request('hiker://page/lazy')).rule)\n\n\n\n\n数据=html.split('\"3\":{\"docs\":')[1].split(\"]\")[0]+\"]\"\n\n\n数据=eval(数据)\n\n\n\nfor (var i in 数据) {\nlog(数据[i])\n标题=数据[i].game_roomName\n图片=数据[i].game_screenshot\n链接='https://www.huya.com/'+数据[i].room_id\n描述=\"热度:\"+数据[i].game_total_count\n\n\n\nd.push({\ntitle:标题,\npic_url:图片,\nurl:链接+lazy,\ndesc:描述,\ncol_type: \"movie_2\"\n});\n\n\n\n}\n\n\n\n\n\n\n\n\nres.data = d;\nsetHomeResult(res);","search_url":"https://search.cdn.huya.com/?m=Search&do=getSearchContent&plt=m&uid=0&app=11&v=1&typ=-5&q=**&rows=4&start=0&_=1665253403090&callback=axiosJsonpCallback3","group":"其它","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {}; //定义一个map 键值 前面是键后面是值 当前值为空\nvar d = [];//自定义一个 空数组\nvar html = getResCode();\n\n\n数据=pdfh(html,'body&&script,3&&Html')\n\n\nurl=数据.split('liveLineUrl\":\"')[1].split('\"')[0]\n\n数据=JSON.parse(html).response.3.docs\nlog(数据)\n\n\nlog(数据)\n\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"lazy\",\"path\":\"lazy\",\"rule\":\"//eval(JSON.parse(request('hiker://page/lazy')).rule)\\n\\n//①需要重点看一下域名是不是http\\n//②需要看一下请求链接的域名后缀\\n\\n\\nvar lazy = $('').lazyRule(() => {\\n//找到数据可能需要修改\\n数据=pdfh(request(input),'body&&script,3&&Html')\\nurl=数据.split('sDefaultLiveStreamUrl\\\":\\\"')[1].split('\\\"')[0]\\n\\n    \\neval(JSON.parse(request('hiker://page/虎牙解析')).rule)\\n\\nurl=getRealUrl(url)\\n\\nif(url.includes(\\\"huya.com/src/\\\")==false) url=\\\"http://ws.flv.huya.com/src/\\\"+url\\n\\n\\n    if (/m3u8|mp4|flv/.test(url)) {\\n        return url\\n\\n\\n    } else {\\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\\n        return x5rule(input, input);\\n    }\\n})\"},{\"col_type\":\"movie_3\",\"name\":\"虎牙解析\",\"path\":\"虎牙解析\",\"rule\":\"const getRealUrl = (live_url) => {\\n    let [i, b] = live_url.split('?')\\n    let r = i.split('/').pop()\\n    let s = r.replace(/\\\\.(flv|m3u8)/, '')\\n    let c_tmp = b.split('&').filter(n => n)\\n    // let c = []\\n    let n = {}\\n    let c_tmp2 = []\\n    c_tmp.forEach((tmp, index) => {\\n        if (index < 3) {\\n            // c.push(tmp)\\n            n[tmp.split('=')[0]] = tmp.split('=')[1]\\n        } else {\\n            c_tmp2.push(tmp)\\n        }\\n    })\\n    let tmp2 = c_tmp2.join('&')\\n    n[tmp2.split('=')[0]] = tmp2.split('=')[1]\\n\\n    let fm = decodeURIComponent(n.fm).split('&')[0]\\n    let u = base64Decode(fm)\\n    let p = u.split('_')[0]\\n    let f = new Date().getTime() + '0000'\\n    let ll = n.wsTime\\n    let t = '0'\\n    let h = [p, t, s, f, ll].join('_')\\n    let m = md5(h)\\n    return (i+\\\"?wsSecret=\\\"+m+\\\"&wsTime=\\\"+ll+\\\"&u=\\\"+t+\\\"&seqid=\\\"+f+\\\"&\\\"+c_tmp2.pop()).replace('hls', 'flv').replace('m3u8', 'flv')\\n}\\n\"}]","proxy":"","icon":"https://diy-assets.msstatic.com/mobile/favicon.ico"},{"last_chapter_rule":"","title":"斗鱼一起看","author":"ZHJ","version":0,"type":"live","url":"https://m.douyu.com/api/room/list?page=fypage&type=yqk","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {}; //定义一个map 键值 前面是键后面是值 当前值为空\nvar d = [];//自定义一个 空数组\nvar html = getResCode();\n\n\neval(JSON.parse(request('hiker://page/lazy')).rule)\n\n\n\n\n\n\n\n\n\n\n\nif (MY_PAGE == 1) {\n    d.push({\n        title: \"🔍\",\n        url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n        desc: \"搜你想要...\",\n        col_type: \"input\"\n    });\n}\n\n数据=JSON.parse(html).data.list\n\n\n\n\n\n\n\n\n\n\nfor (var i in 数据) {\n\n标题=数据[i].roomName\n图片=数据[i].roomSrc\n链接='https://m.douyu.com/'+数据[i].rid\n描述=数据[i].hn\n\n\n\nd.push({\ntitle:标题,\npic_url:图片,\nurl:链接+lazy,\ndesc:描述,\ncol_type: \"movie_2\"\n});\n\n\n\n}\n\n           \n\n\n\n\n\n\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {}; //定义一个map 键值 前面是键后面是值 当前值为空\nvar d = [];//自定义一个 空数组\n关键词=MY_URL.split(\"/关键词/\")[1].split(\"/页数/\")[0]\n请求链接=MY_URL.split(\"/关键词/\")[0]\n页数=(MY_PAGE-1)*20\n\neval(JSON.parse(request('hiker://page/lazy')).rule)\n\nvar html = post(请求链接,{\n\n            body: {\"sk\":关键词,\"offset\":页数,\"limit\":\"20\",\"did\":\"69a394a094387f61c25b2e8600081631\"}\n\n\n\n\n});\n\nlog(页数)\n\n数据=JSON.parse(html).data.list\n\n\n\n\n\n\n\n\n\n\nfor (var i in 数据) {\n\n\n\n标题=数据[i].roomName\n图片=数据[i].roomSrc\n链接='https://m.douyu.com/'+数据[i].roomId\n描述=数据[i].hn\n\n\n\nd.push({\ntitle:标题,\npic_url:图片,\nurl:链接+lazy,\ndesc:描述,\ncol_type: \"movie_2\"\n});\n\n\n\n}\n\n\n\n\n\n\nres.data = d;\nsetHomeResult(res);","search_url":"https://m.douyu.com/api/search/liveRoom/关键词/**/页数/fypage@-1@*20@&","group":"其它","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"lazy\",\"path\":\"lazy\",\"rule\":\"//eval(JSON.parse(request('hiker://page/lazy')).rule)\\n\\n//①需要重点看一下域名是不是http\\n//②需要看一下请求链接的域名后缀\\n\\n\\nvar lazy = $('').lazyRule(() => {\\n\\n\\nconst getSign = (script, rid, did, tt) => {\\n\\n    let result = script.match(/(function ub98484234.*)\\\\s(var.*)/)[0]\\n    let func_ub9 = result.replace(/eval.*;}/, 'strc;}', result)\\n    eval(func_ub9)\\n\\n    let res = ub98484234()\\n    let v = res.match(/v=(\\\\d+)/)[0].replace(\\\"v=\\\", '')\\n    let rb = md5(rid + did + tt + v)\\n\\n    let func_sign = res.replace(/return rt;}\\\\);?/, 'return rt;}')\\n    func_sign = func_sign.replace('(function (', 'function sign(')\\n    func_sign = func_sign.replace('CryptoJS.MD5(cb).toString()', '\\\"' + rb + '\\\"')\\n    eval(func_sign)\\n\\n    let params = sign(rid, did, tt) + \\\"&ver=219032101&rid={}&rate=-1&rid=\\\"+rid\\n    return params\\n}\\n\\n\\n\\n\\n\\n\\n\\n    const html = fetch(input)\\n\\n    // const rid = parseInt(input.replace(\\\"https://m.douyu.com/\\\", \\\"\\\"))\\n    const rid = html.match(/rid\\\":(.*?),\\\"vipId/)[1]\\n    const tt = Date.parse(new Date()).toString().substr(0,10)\\n    const did = \\\"10000000000000000000000000001501\\\"\\n\\n    let param_body = getSign(html, rid, did, tt)\\n\\n    const stream_json = fetch('https://m.douyu.com/api/room/ratestream', {headers:{'content-type':'application/x-www-form-urlencoded'}, body: param_body, method:'POST'})\\n    const stream = JSON.parse(stream_json).data\\n\\n    return JSON.stringify({\\n        urls: [stream.url],\\n        // danmu: 'web://file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/TyrantG/public/douyu_danmu.html?rid='+rid\\n        danmu: 'web://http://douyu_danmu.dev.tyrantg.com/?rid='+rid+'&ver=1'\\n    })\\n\\n\\n\\n})\"}]","proxy":"","icon":"https://b.bdstatic.com/searchbox/mappconsole/image/20180808/1533698045105276.png"},{"last_chapter_rule":"","title":"美食手册Pro","author":"警告：本小程序仅供海阔视界用户学习交流使用。如有导入，请务必在24小时之内删除！若作它用，后果自负！","version":7,"type":"music","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar d = [];\r\nd.push({\r\n    col_type: \"x5_webview_single\",\r\n    url: \"https://cook.yunyoujun.cn/?www.hiquer.com\",\r\n    desc: \"float&&100%\",\r\n    extra: {\r\n        canBack: true,\r\n        urlInterceptor: $.toString((MY_RULE) => {\r\n            if (input.match(/video/)) {\r\n                return $.toString((url, MY_RULE) => {\r\n                    fba.open(JSON.stringify({\r\n                        rule: MY_RULE.title,\r\n                        title: '美食详情',\r\n                        group: MY_RULE.group,\r\n                        preRule: MY_RULE.preRule,\r\n                        pages: MY_RULE.pages,\r\n                        url: url + '#immersiveTheme#',\r\n                        findRule: MY_RULE.detail_find_rule\r\n                    }));\r\n                }, input, MY_RULE)\r\n            }\r\n            if (input.includes('space.bilibili.com')) return $.toString((url, MY_RULE) => {\r\n                fba.open(JSON.stringify({\r\n                    rule: MY_RULE.title,\r\n                    title: '登录',\r\n                    group: MY_RULE.group,\r\n                    preRule: MY_RULE.preRule,\r\n                    pages: MY_RULE.pages,\r\n                    url: 'hiker://page/login?rule=美食手册Pro',\r\n                    findRule: MY_RULE.detail_find_rule\r\n                }));\r\n            }, input, MY_RULE)\r\n            // 拦截app下载页面——非网页代码\r\n            if (input.includes('download')) return true;\r\n        }, MY_RULE),\r\n        blockRules: [''],\r\n        ua: MOBILE_UA\r\n    }\r\n});\r\nsetResult(d);","searchFind":"","search_url":"","group":"其它","detail_col_type":"movie_1","detail_find_rule":"js:\r\nvar lazy = $('').lazyRule(() => {\r\n    function getUrl(avid, cid, qn) {\r\n        try {\r\n            if (getMyVar('bf_cookie', '未定义') == '未定义') {\r\n                var Cookie = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).cookie\r\n            } else {\r\n                var Cookie = getMyVar('bf_cookie');\r\n            }\r\n        } catch (e) {\r\n            Cookie = JSON.parse(fetchCookie('https://www.bilibili.com/', {\r\n                headers: {\r\n                    \"User-Agent\": PC_UA,\r\n                    \"Referer\": \"https://www.bilibili.com/\",\r\n                },\r\n                method: \"GET\"\r\n            }))[1];\r\n        }\r\n        try {\r\n            let u = request(buildUrl(\"http://api.bilibili.com/x/player/playurl\", {\r\n                \"avid\": avid,\r\n                \"cid\": cid,\r\n                \"qn\": qn,\r\n                \"fnver\": 0,\r\n                \"fnval\": 4048,\r\n                \"fourk\": 1\r\n            }), {\r\n                headers: {\r\n                    Cookie: Cookie\r\n                }\r\n            })\r\n            return JSON.parse(u).data.dash\r\n        } catch (e) {\r\n            try {\r\n                log('尝试更改请求接口...');\r\n                let u = request(buildUrl(\"https://api.bilibili.com/pgc/player/web/playurl\", {\r\n                    \"avid\": avid,\r\n                    \"cid\": cid,\r\n                    \"qn\": qn,\r\n                    \"fnver\": 0,\r\n                    \"fnval\": 4048,\r\n                    \"fourk\": 1\r\n                }), {\r\n                    headers: {\r\n                        Cookie: Cookie\r\n                    }\r\n                })\r\n                return JSON.parse(u).result.dash\r\n            } catch (error) {\r\n                log('cookie有没有可能失效了呢~');\r\n                return '';\r\n            }\r\n        }\r\n    }\r\n    function biliLazy(id, cid, qn) {\r\n        var dash = getUrl(id, cid, qn);\r\n        videoList = [];\r\n        audioList = [];\r\n        nameList = [];\r\n        headers = [];\r\n        dash.audio.forEach(item => {\r\n            audioList.push(item.baseUrl);\r\n            headers.push({\r\n                \"Referer\": \"https://www.bilibili.com\",\r\n                \"User-Agent\": PC_UA\r\n            });\r\n        });\r\n        dash.video.forEach(item => {\r\n            if (item.codecid == 7) {\r\n                videoList.push(item.baseUrl + \"#isVideo=true#\");\r\n                if (item.id == 126) {\r\n                    nameList.push('杜比视界');\r\n                } else if (item.id == 125) {\r\n                    nameList.push('HDR 真彩色');\r\n                } else if (item.id == 120) {\r\n                    nameList.push('4K超清');\r\n                } else if (item.id == 116) {\r\n                    nameList.push('1080P60高帧率');\r\n                } else if (item.id == 112) {\r\n                    nameList.push('1080P+高码率');\r\n                } else if (item.id == 80) {\r\n                    nameList.push('1080P高清');\r\n                } else if (item.id == 74) {\r\n                    nameList.push('720P60高帧率');\r\n                } else if (item.id == 64) {\r\n                    nameList.push('720P高清');\r\n                } else if (item.id == 32) {\r\n                    nameList.push('480P清晰');\r\n                } else if (item.id == 16) {\r\n                    nameList.push('360P流畅');\r\n                } else if (item.id == 6) {\r\n                    nameList.push('240P极速');\r\n                }\r\n            }\r\n        });\r\n        return JSON.stringify({\r\n            urls: videoList,\r\n            audioUrls: audioList,\r\n            headers: headers,\r\n            names: nameList,\r\n            danmu: 'https://comment.bilibili.com/' + cid + '.xml'\r\n        })\r\n    }\r\n    videoParms = findItem(input);\r\n    aid = videoParms.extra.aid;\r\n    bvid = videoParms.extra.bvid;\r\n    cid = videoParms.extra.cid;\r\n    badge = videoParms.extra.badge;\r\n    return biliLazy(aid, cid, 116).replace(/;/g, \"；；\");\r\n});\r\nvar d = [];\r\nMY_URL = MY_URL.split(\"#\")[0];\r\nhtml = fetch(MY_URL);\r\nData = JSON.parse(html.match(/viewInfo[\\S\\s]+(?=,\"related\")/)[0].replace('viewInfo\":', ''));\r\nsetPageTitle(Data.title);\r\nsetPagePicUrl(Data.pic.replace('\\u002F', '/') + \"@Referer=\");\r\nd.push({\r\n    title: Data.title,\r\n    col_type: \"pic_1\",\r\n    img: Data.pic.replace('\\u002F', '/') + \"@Referer=\",\r\n    url: MY_URL + lazy,\r\n    desc: Data.desc,\r\n    extra: {\r\n        id: MY_URL,\r\n        aid: Data.aid,\r\n        bvid: Data.bvid,\r\n        cid: Data.cid,\r\n        badge: ''\r\n    }\r\n})\r\nd.push({\r\n    title: '相关视频 <small><small><span style=\"color:#19B89D\">' + getItem('模式', '双边') + '></span></small></small>',\r\n    col_type: \"avatar\",\r\n    img: 'https://lanmeiguojiang.com/tubiao/more/197.png',\r\n    url: $('#noLoading#').lazyRule(() => {\r\n        列表长度 = getMyVar('列表长度');\r\n        if (getItem('模式', '列表') == '列表') {\r\n            for (let index = 1; index <= 列表长度; index++) {\r\n                updateItem('food' + index, {\r\n                    col_type: 'movie_2',\r\n                });\r\n            }\r\n            setItem('模式', '双边')\r\n        } else {\r\n            for (let index = 1; index <= 列表长度; index++) {\r\n                updateItem('food' + index, {\r\n                    col_type: 'movie_1_left_pic',\r\n                });\r\n            }\r\n            setItem('模式', '列表')\r\n        }\r\n        updateItem('显示模式', {\r\n            title: '相关视频 <small><small><span style=\"color:#19B89D\">' + getItem('模式', '列表') + '></span></small></small>',\r\n        });\r\n        return 'toast://已切换模式为:' + getItem('模式', '列表')\r\n    }),\r\n    extra: {\r\n        id: '显示模式'\r\n    }\r\n})\r\naddData = JSON.parse(html.match(/related\":[\\S\\s]+(?=,\"hotShareShow\")/)[0].replace('related\":', ''));\r\nputMyVar('列表长度', addData.length);\r\nindex = 1;\r\naddData.forEach(list => {\r\n    if (getItem('模式', '列表') == '列表') {\r\n        d.push({\r\n            title: list.title,\r\n            img: list.pic.replace('\\u002F', '/') + \"@Referer=\",\r\n            url: 'food' + index + lazy,\r\n            desc: '分享用户：' + list.owner.name,\r\n            col_type: 'movie_1_left_pic',\r\n            extra: {\r\n                id: 'food' + index,\r\n                aid: list.aid,\r\n                bvid: list.bvid,\r\n                cid: list.cid,\r\n                badge: ''\r\n            }\r\n        });\r\n    } else {\r\n        d.push({\r\n            title: list.title,\r\n            img: list.pic.replace('\\u002F', '/') + \"@Referer=\",\r\n            url: 'food' + index + lazy,\r\n            desc: '分享用户：' + list.owner.name,\r\n            col_type: 'movie_2',\r\n            extra: {\r\n                id: 'food' + index,\r\n                aid: list.aid,\r\n                bvid: list.bvid,\r\n                cid: list.cid,\r\n                badge: ''\r\n            }\r\n        });\r\n    }\r\n    index += 1;\r\n});\r\nsetResult(d);\r\n","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"x5登录\",\"path\":\"login\",\"rule\":\"js:\\r\\nvar d = [];\\r\\nd.push({\\r\\n    title: '登陆说明',\\r\\n    desc:\\\"页面下方登陆成功后，再点击确认登录即可\\\",\\r\\n    url: \\\"hiker://empty\\\",\\r\\n    col_type: 'text_center_1'\\r\\n},{\\r\\n    title: '登陆成功后，再点我！',\\r\\n    url: $('#noLoading#').lazyRule(() => {\\r\\n        back(true);\\r\\n        return 'toast://如果没有登陆成功，建议你下次登陆成功后不要点那么快~'\\r\\n    }),\\r\\n    col_type: 'text_1'\\r\\n}, {\\r\\n    url: \\\"https://m.bilibili.com/\\\",\\r\\n    col_type: \\\"x5_webview_single\\\",\\r\\n    desc: \\\"list&&screen-300\\\",\\r\\n    extra: {\\r\\n        js: $.toString(() => {\\r\\n            var token_timer = function () {\\r\\n                var timer = setInterval(() => {\\r\\n                    settings = JSON.stringify({\\r\\n                        cookie: fba.getCookie(\\\"https://m.bilibili.com/\\\"),\\r\\n                        face: 'https://lanmeiguojiang.com/tubiao/movie/20.svg'\\r\\n                    });\\r\\n                    fba.writeFile(\\\"hiker://files/rules/cy/bili.txt\\\", settings);\\r\\n                }, 100)\\r\\n            };\\r\\n            token_timer();\\r\\n        }),\\r\\n        canBack: true\\r\\n    }\\r\\n})\\r\\nsetResult(d);\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/messy/95.svg"},{"last_chapter_rule":"","title":"预告片·Q","author":"发粪涂墙","version":0,"type":"other","url":"https://www.yugaopian.cn/movlist/fyarea_fyclass_fyyear__fypage","col_type":"movie_1_vertical_pic","class_name":"全部&剧情&喜剧&惊悚&爱情&动作&犯罪&冒险&悬疑&奇幻&科幻&恐怖&家庭&动画&纪录片&历史&传记&战争&同性&音乐&歌舞&西部&灾难&武侠&情⁡色","class_url":"&剧情&喜剧&惊悚&爱情&动作&犯罪&冒险&悬疑&奇幻&科幻&恐怖&家庭&动画&纪录片&历史&传记&战争&同性&音乐&歌舞&西部&灾难&武侠&情⁡色","area_name":"全部&美国&中国大陆&英国&法国&香港&台湾&日本&韩国&泰国&德国&加拿大&澳大利亚&西班牙&意大利&印度&比利时&俄罗斯&葡萄牙","area_url":"&美国&中国大陆&英国&法国&香港&台湾&日本&韩国&泰国&德国&加拿大&澳大利亚&西班牙&意大利&印度&比利时&俄罗斯&葡萄牙","sort_name":"","year_name":"全部&2023&2022&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008","sort_url":"","year_url":"&2023&2022&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008","find_rule":".movlist,1&&li;.item-title&&Text;img&&src;.item-pubtime&&Text;a&&href.js:'http://m.yugaopian.cn/?view=movie&id='+input.replace('/movie/','')","searchFind":".movlist&&li;h2&&Text;a&&href;p&&Text;*;img&&src","search_url":"http://m.yugaopian.cn/?view=list&listtype=movlist&page=fypage&keyword=**","group":"其它","detail_col_type":"pic_1","detail_find_rule":"js:\nvar res = {};\nvar result = [];\nvar html = getResCode();\nresult.push({\n    title: parseDomForHtml(html, \".movie-info&&p&&Text\"),\n    pic_url: parseDom(html, \".movie-info&&img&&src\"),\n    url: MY_URL,\n    desc: parseDomForHtml(html, \".player-detail&&p&&Text\"),\n});\n\n//var videoListHtml = parseDom(html, \".videolist-wrapper&&Html\");\nvar tabs = parseDomForArray(html, '.videolist-wrapper&&h2');\nvar conts = parseDomForArray(html, '.videolist-wrapper&&ul');\nfor(var i = 0; i < tabs.length; i++) {\n    result.push({\n        title: parseDomForHtml(tabs[i], \"h2&&Text\"),\n        col_type: \"text_1\"\n    });\n    var list = parseDomForArray(conts[i], 'ul&&li');\n    for(var j = 0; j < list.length; j++) {\n        result.push({\n            title: parseDomForHtml(list[j], \"li&&Text\"),\n            url: parseDom(list[j].replace('./?','/?'),'li&&a&&href')+`@lazyRule=video&&src.js:input.indexOf('m3u8')!=-1?input.split('=')[1]:input`,\n            col_type: \"text_2\"\n        });\n    }\n}\nres.data = result;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","proxy":"","icon":"https://www.yugaopian.cn/favicon.ico"},{"last_chapter_rule":"","title":"新片场·Q","author":"发粪涂墙","version":0,"type":"video","url":"hiker://empty##https://www.xinpianchang.com/discover/article-0-0-all-all-0-0-hot?page=fypage","col_type":"pic_1_card","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar getRangeColors = function() {       \n    return '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);     \n}\n\nconst 分类颜色 = getRangeColors()\nconst 大类定位 = 'body&&.top-full'\nconst 拼接分类 = ''\nconst 小类定位 = 'body&&a'\nconst 分类标题 = 'a&&Text'\nconst 分类链接 = 'a&&href'\nMY_URL = MY_URL.replace('hiker://empty##', '')\n\nlet true_url = getVar(MY_RULE.url, MY_URL)\nconst page = MY_PAGE\nif (getVar(MY_RULE.url)) {\n    true_url = true_url + '?page=' + page\n}\nvar html = request(true_url)\nvar 定位 = pdfh(html,'head&&style,-1&&Html').match(/.*(\\..*?):hover/)[1]\nrequire('hiker://page/dtfl?rule=模板·Q')\n\nvar list = pdfa(html, 'body&&'+定位)\nfor (var j in list) {\n    var img = pd(list[j], 'img&&src') + '@Referer='\n    d.push({\n        title: pdfh(list[j], 'img&&alt'),\n        desc: pdfh(list[j], '.list-remarks&&Text'),\n        img: img,\n        url:  $(pd(list[j], 'a&&href')).lazyRule(() => {\n            var html = JSON.parse(pdfh(fetchPC(input), '#__NEXT_DATA__&&Html')).props.pageProps.detail.video.content.progressive\n            return JSON.stringify({\n                urls: html.map(url =>\n                    url.https_url\n                ),\n                names: html.map(name =>\n                    name.profile\n                )\n            })\n        })\n    })\n}\nsetResult(d)","searchFind":"js:\nvar d = [];\nvar list = pdfa(getResCode(), 'body&&.w-full.h-auto')\nfor (var j in list) {\n    d.push({\n        title: pdfh(list[j], 'img&&alt'),\n        desc: pdfh(list[j], '.text-white&&Text'),\n        content: pdfh(list[j], '.flex&&Text'),\n        img: pd(list[j], 'img&&src'),\n        url: $(pd(list[j], 'a&&href')).lazyRule(() => {\n            var html = JSON.parse(pdfh(fetchPC(input), '#__NEXT_DATA__&&Html')).props.pageProps.detail.video.content.progressive\n            return JSON.stringify({\n                urls: html.map(url =>\n                    url.https_url\n                ),\n                names: html.map(name =>\n                    name.profile\n                )\n            })\n        })\n    })\n}\nsetResult(d);","search_url":"/search?page=fypage&kw=**","group":"其它","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"https://oss-xpc0.xpccdn.com/Upload/edu/2019/09/095d75c392a6a3f.png"},{"last_chapter_rule":"","title":"牛片","author":"子丑寅卯","version":0,"type":"video","url":"https://m.6pian.cn/Index/Jx/ajaxJx?c=fyAll&o=2&p=fypage","col_type":"pic_1_card","class_name":"创意视频&广告&微电影&动画","class_url":"2&4&3&5","area_name":"短视频&纪录片&宣传片&特殊摄影","area_url":"89&8&1&7","sort_name":"","year_name":"混剪MV","sort_url":"","year_url":"6","find_rule":"js:\r\n\r\nvar d=[];\r\n\nlet json=JSON.parse(getResCode()).data;\nfor(let h of json){\n    d.push({\n        pic_url:h.pictures,\n        desc:h.introduction,\n        title:h.title,      url:\"https://m.6pian.cn\"+h.vurl+`@lazyRule=body&&script,9&&Html.js:input.match(/http.*m3u8/)[0]`,\n\n    });\n}\nsetResult(d);","searchFind":"js:\r\n\r\nvar d=[];\r\n\nlet json=JSON.parse(getResCode()).data;\nfor(let h of json){\n    d.push({\n        pic_url:'https://ttuu.6pian.cn'+h.pictures,\n        desc:h.introduction,\n        title:h.title,      url:\"https://m.6pian.cn/chanpin/\"+h.id+'.html'+`@lazyRule=body&&script,9&&Html.js:input.match(/http.*m3u8/)[0]`,\n\n    });\n}\nsetResult(d);","search_url":"https://m.6pian.cn/Index/Api/searchApi?c=1&p=fypage&s=**","group":"其它","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://www.6pian.cn/favicon.ico"},{"last_chapter_rule":"","title":"播客","author":"","version":6,"type":"music","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet d = [];\nlet Color = \"#f13b66a\";\nlet html = request(\"https://getpodcast.xyz/\");\n//log(html)\nlet class_ids = pdfa(html, \"body&&.classify_title\");\nlet classlists = pdfa(html, \"body&&.pic_list\");\nlet classname0 = \"订阅中心\";\nlet selclass = getItem('SrcBoKe$classname', '播客');\nd.push({\n    title: selclass === classname0 ? '““””<b><span style=\"color:' + Color + '\">' + classname0 + '</span></b>' : classname0,\n    url: $('#noLoading#').lazyRule((classname) => {\n        setItem('SrcBoKe$classname', classname);\n        setItem('SrcBoKe$classid', classname);\n        refreshPage(false);\n        return \"hiker://empty\";\n    }, classname0),\n    col_type: 'scroll_button'\n});\n\nfor (let i in class_ids) {\n    let classname = pdfh(class_ids[i], \"body&&Text\");\n    d.push({\n        title: selclass === classname ? '““””<b><span style=\"color:' + Color + '\">' + classname + '</span></b>' : classname,\n        url: $('#noLoading#').lazyRule((classname, i) => {\n            setItem('SrcBoKe$classname', classname);\n            setItem('SrcBoKe$classid', i);\n            refreshPage(false);\n            return \"hiker://empty\";\n        }, classname, i),\n        col_type: 'scroll_button'\n    });\n}\nif (selclass == classname0) {\n    //订阅中心\n    let {\n        load\n    } = $.require(\"hiker://page/data\");\n    let data = load();\n    for (let it of data) {\n        d.push({\n            title: it.name,\n            url: \"hiker://empty##\" + it.url,\n            img: it.pic,\n            desc: '0',\n            col_type: 'card_pic_3',\n            extra: {\n                title: it.name,\n                pic: it.pic\n            }\n        });\n    }\n\n} else {\n    let id = getItem('SrcBoKe$classid', '0');\n    let lists = pdfa(classlists[Math.floor(id)], \"body&&li\");\n    lists.forEach(item => {\n        try {\n            d.push({\n                title: pdfh(item, \".title&&Text\"),\n                url: \"hiker://empty##\" + pdfh(item, \"a&&href\"),\n                img: pdfh(item, \".pic&&img&&src\"),\n                desc: '0',\n                col_type: 'card_pic_3',\n                extra: {\n                    title: pdfh(item, \".title&&Text\"),\n                    pic: pdfh(item, \".pic&&img&&src\")\n                }\n            });\n        } catch (e) {\n            //log(e.message)\n        }\n    })\n}\n\nsetResult(d);","searchFind":"","search_url":"","group":"其它","detail_col_type":"movie_3","detail_find_rule":"js:\r\nlet d = [];\r\n//setPageTitle(MY_PARAMS.title);\r\nMY_URL = MY_URL.split('##')[1];\r\nlet {\r\n    has\r\n} = $.require(\"hiker://page/data\");\r\nlet has0 = has(MY_PARAMS.title);\r\nd.push({\r\n    title: (has0 ? \"取消\" : \"\") + \"订阅该播客\",\r\n    url: $(\"#noLoading#\").lazyRule((item, has0) => {\r\n        let {\r\n            add,\r\n            remove\r\n        } = $.require(\"hiker://page/data\");\r\n        if (has0) {\r\n            remove(item.name);\r\n        } else {\r\n            add(item)\r\n        }\r\n        refreshPage();\r\n        return \"toast://OK\"\r\n    }, {\r\n        name: MY_PARAMS.title,\r\n        url: MY_URL,\r\n        pic: MY_PARAMS.pic\r\n    }, has0),\r\n    col_type: \"avatar\",\r\n    desc: \"\",\r\n    pic_url: MY_PARAMS.pic,\r\n    extra: {\r\n        longClick: [{\r\n            title: \"🔃切换排序\",\r\n            js: $.toString(() => {\r\n                if(getItem('SrcBoKe$reverse')=='1'){\r\n                    clearItem('SrcBoKe$reverse');\r\n                }else{\r\n                    setItem('SrcBoKe$reverse','1');\r\n                }\r\n                refreshPage(false);\r\n                return \"hiker://empty\";\r\n            })\r\n        }]\r\n    }\r\n});\r\nlet html = request(MY_URL);\r\nlet lists = pdfa(html, \"body&&item\");\r\n//log(lists)\r\nif(getItem('SrcBoKe$reverse')=='1'){\r\n    lists.reverse();\r\n}\r\nlists.forEach(item => {\r\n    try {\r\n        d.push({\r\n            title: item.match(/<title>(.*?)<\\/title>/)[1].replace(/&lt;!\\[CDATA\\[|\\]\\]&gt;|<!\\[CDATA\\[|\\]\\]>/g, ''),\r\n            desc: pdfh(item, \"pubDate&&Text\"),\r\n            url: pdfh(item, \"enclosure&&url\"),\r\n            img: item.indexOf('image href=') == -1 ? MY_PARAMS.pic : item.match(/image href=\"(.*?)\"/)[1],\r\n            col_type: 'movie_1_left_pic'\r\n        })\r\n    } catch (e) {\r\n\r\n    }\r\n})\r\nif (d.length == 0) {\r\n    d.push({\r\n        title: '↻未获取到列表',\r\n        col_type: \"rich_text\"\r\n    });\r\n}\r\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"数据管理\",\"path\":\"data\",\"rule\":\"$.exports = {\\n    load: function() {\\n        return storage0.getItem(\\\"data\\\", []);\\n    },\\n    has: function(name) {\\n        let data = storage0.getItem(\\\"data\\\", []);\\n        return data.filter(it => it.name == name).length > 0;\\n    },\\n    add: function(item) {\\n        let data = storage0.getItem(\\\"data\\\", []);\\n        for (let it of data) {\\n            if (it.name == item.name) {\\n                return\\n            }\\n        }\\n        data.push(item);\\n        storage0.setItem(\\\"data\\\", data);\\n    },\\n    remove: function(name) {\\n        let data = storage0.getItem(\\\"data\\\", []);\\n        data = data.filter(it => it.name != name);\\n        storage0.setItem(\\\"data\\\", data);\\n    }\\n}\"}]","proxy":"","icon":"https://getpodcast.xyz/favicon.ico"},{"last_chapter_rule":"","title":"飞韵听书","author":"壹","version":0,"type":"music","url":"hiker://empty##https://fyts-b2.gz.bcebos.com##fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nlet M = MY_URL.split('##')[1];\nvar getRangeColors = function() {       \n    return '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);     \n}\nconst 分类颜色 = getRangeColors();\nlet page = MY_PAGE;\nlet {\n    desDecode\n} = $.require(\"hiker://page/function\");\nif (!getMyVar(\"category\")) {\n    let cgUrl = M + \"/api/novel/lib/category/condition.json\";\n    let cgData = JSON.parse(request(cgUrl, {\n        headers: {\n            \"user-agent\": \"Dart/2.18 (dart:io)\"\n        }\n    }));\n    let token = cgData.safety.token[0];\n    let sfData = JSON.parse(desDecode(cgData.safetyData, token));\n    putMyVar(\"category\", JSON.stringify(sfData));\n}\nlet category = JSON.parse(getMyVar(\"category\"));\nif (page == 1) {\n    for (let i = 0; i < category.length; i++) {\n        let mytitle = category[i].title;\n        d.push({\n            title: getMyVar('navtitle', \"评书\") == mytitle ? '““””<b><font color=#9F5F9F>' + mytitle + '</font></b>' : mytitle,\n            url: $('#noLoading##noHistory#').lazyRule((mytitle) => {\n                putMyVar(\"navtitle\", mytitle);\n                clearMyVar(\"header.url\")\n                refreshPage();\n                return 'hiker://empty'\n            }, mytitle),\n            col_type: \"text_3\"\n        });        \n    }\n    d.push({\n            col_type: \"blank_block\"\n        });\n    let ejcates = category.filter(it => it.title == getMyVar('navtitle', \"评书\"))[0].categorys;\n    putMyVar(\"denum\", ejcates[0].count.toString());\n    putMyVar(\"dekey\", ejcates[0].key);\n    //分类\n    ejcates.forEach((item, key) => {\n        let title = item.name;\n        let count = item.count.toString();\n        d.push({\n            title: getMyVar(\"ercates\", ejcates[0].name) == title ? '““””<b><span style=\"color: ' + 分类颜色 + '\">' + title + '</span></b>' : title,\n            url: $(item.key + '#noLoading#').lazyRule((title, count) => {\n                putMyVar('ercates', title);\n                putMyVar('count', count);\n                putMyVar('header.url', input);\n                refreshPage(true)\n                return \"hiker://empty\"\n            }, title, count),\n            col_type: 'scroll_button',\n        })\n    });\n    d.push({\n        col_type: \"blank_block\"\n    });\n}\nlet pagenum = Math.ceil(parseInt(getMyVar(\"count\", getMyVar(\"denum\"))) / 15);\n//log(\"总页数：\"+pagenum)\nif (page <= parseInt(pagenum)) {\n    let listUrl = M + \"/api/novel/lib/books/\" + getMyVar(\"header.url\", getMyVar(\"dekey\")) + \"/all/hot/\" + page + \".json\";\n    let listData = JSON.parse(request(listUrl, {\n        headers: {\n            \"user-agent\": \"Dart/2.18 (dart:io)\"\n        }\n    }));\n    let lstoken = listData.safety.token[0].split(\"\").reverse().join(\"\").substr(0, 8);\n    //log(lstoken)\n    let lsData = JSON.parse(desDecode(listData.safetyData, lstoken));\n    //log(lsData)\n    //log(\"每页数量: \" + lsData.count)\n    let jlist = lsData.items;\n    //log(jlist)\n    jlist.forEach(it => {\n        d.push({\n            title: it.bookName,\n            url: \"hiker://empty#\" + it.bookId+\"#immersiveTheme#\",\n            desc: (it.finishedFlag == 1 ? \"完结\" : \"连载中\") + \" 作者: \" + it.authorName,\n            pic_url: M + \"/\" + it.coverUrl\n        });\n    })\n} else {\n    d.push({\n        title: \"到底了，没有数据了\",\n        url: \"hiker://empty\",\n        col_type: \"text_center_1\"\n    });\n}\nsetResult(d)","searchFind":"js:\nvar d = [];\nlet M = MY_URL.split('##');\nvar jData = JSON.parse(request(M[1], {\n    headers: {\n        \"user-agent\": \"Dart/2.18 (dart:io)\"\n    },\n    body: {\n        \"relationType\": \"1\",\n        \"relationId\": \"\",\n        \"key\": M[2],\n        \"page\": MY_PAGE,\n        \"appVersion\": \"1.1.7\",\n        \"appChannel\": \"normal\",\n        \"appKey\": \"com.vo.icea\",\n        \"clientTime\": (new Date().getTime()).toString(),\n        \"deviceBrand\": \"Xiaomi\",\n        \"deviceType\": \"Mi 10 Pro\",\n        \"ipAddr\": \"192.168.50.202\",\n        \"netType\": \"wifi\",\n        \"platform\": \"0\",\n        \"systemVersion\": \"Android 12\",\n        \"uuid\": \"9dadb5a38dfa07e2\",\n        \"userId\": \"f89e27e7eb5745fa99dece3c491b2428\"\n    },\n    method: \"post\"\n}));\nvar jlist = jData.data.items;\njlist.forEach(it => {\n    d.push({\n        title: it.bookName.replace(/<word>|<\\/word>/g, \"\"),\n        url: \"hiker://empty#\" + it.bookId + \"#immersiveTheme#\",\n        desc: it.categoryName+(it.finishedFlag == 1 ? \"完结\" : \"连载中\") + \" 作者: \" + it.authorName,\n        content: it.intro,\n        pic_url: \"https://fyts-b2.gz.bcebos.com/\" + it.coverUrl\n    });\n})\nsetResult(d);","search_url":"hiker://empty##http://103.107.190.119:20356/api/novel/search/books##**##fypage","group":"其它","detail_col_type":"movie_1","detail_find_rule":"js:\naddListener(\"onClose\", $.toString(() => {\n    clearMyVar(\"顺序\");\n    clearMyVar(\"tabnum\");\n}))\nvar d = [];\nlet {\n    desDecode\n} = $.require(\"hiker://page/function\");\nlet bookId = MY_URL.split(\"#\")[1];\nlet info = JSON.parse(fetch('https://fyts-b2.gz.bcebos.com/api/novel/book/info/'+bookId+'.json', {\n    headers: {\n        \"User-Agent\": \"Dart/2.18 (dart:io)\"\n    },\n    method: \"get\"\n}));\nlet iftoken = info.safety.token;\nlet detoken;\nif (iftoken.length > 1) {\n    let detk = \"\";\n    let detk2 = \"\";\n    for (let i = 0; i < iftoken[0].length; i++) {\n        if (i % 2 === 0) {\n            detk += iftoken[0][i];\n        }\n    }\n    for (let j = 0; j < iftoken[1].length; j++) {\n        if (j % 2 !== 0) {\n            detk2 += iftoken[1][j];\n        }\n    }\n    detoken = (detk + detk2).substr(0, 8);\n}else{\n    detoken = iftoken[0].split(\"\").reverse().join(\"\").substr(0, 8);\n}\n//log(detoken)\ninfo = JSON.parse(desDecode(info.safetyData, detoken));\n//log(info)\nd.push({\n    title: \"书名: \" + info.bookName + \"\\n作者: \" + info.authorName,\n    url: info.vod_pic + '@Referer=',\n    col_type: \"movie_1_vertical_pic_blur\",\n    desc: \"章节数: 共\" + info.chapterCount + \"章\"+ \"\\n状态: \" + (info.finishedFlag == 1 ? \"完结\" : \"连载中\") + \"\\n更新至: \" + info.latestChapterName,\n    pic_url: \"https://fyts-b2.gz.bcebos.com/\" + info.coverUrl\n});\n\nlet contents = info.intro;\nd.push({\n    title: '‘‘’’<font color=\"#098AC1\">剧情简介</font>',\n    desc: '‘‘’’<font color=\"\"> ' + contents.substr(0, 70) + '</font>' + '<small><font color=\"red\">详情</font></small>',\n    col_type: 'text_1',\n    extra: {\n        //lineVisible: false\n    },\n    url: $().rule((text) => {\n        setResult([{\n            title: text,\n            col_type: 'long_text',\n        }])\n    }, contents)\n});\n\nvar tabs = [\"飞韵\"];\nlet chapterUrl = \"https://fyts-b2.gz.bcebos.com/api/novel/book/chapters/\"+bookId+\".json\";\nlet chapters = JSON.parse(request(chapterUrl, {\n    headers: {\n        \"User-Agent\": \"Dart/2.18 (dart:io)\"\n    },\n    method: \"get\"\n}));\nlet cttoken = chapters.safety.token[0].split(\"\").reverse().join(\"\").substr(0, 8);\nlet ctData = JSON.parse(desDecode(chapters.safetyData, cttoken));\n//log(ctData)\nvar playlists = [ctData.chapters];\n//log(playlists)\nvar lazy = $(\"\").lazyRule(() => {\n    let PUBLIC_KEY = \"MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA2Gh5rOSd85wVDF8OAW4sH0uMayrZNDulsPEcZvz8pZ6ksNvBRCMt1ks0yj0ovdxPyGsCIuxDe4KVJS79M0DvQIKe080c9E6pJsJXyZob5ZEBS1Ye7PvU76nglSpNdLmEk4vkyJU7lsh2UrSAOEsPD/fxmzXRi7mQ1Zw9Q48xrldo3rYP6I8lbaaNNAahF299liqGSvFH6YwgGVPtCEhjyi+QFrlMXnqzYy62ipxqOsGWHhesWhfTq3zICJsq31rgHbqZXRwB06+eREWVtVyhhQsdTJnx6fzwa3o0BjLjNOeF3zuyXjH+RhJVJWMVmfRh9T3kJWQhdzNej38Fz9HEEXrpdRGcuDbbEIydI4aqVVfGa/PDo7KocQ7+vjRp1BgrT47tSZ/27NBaEsX+7FkCcy310fNFhv754qUO2uM+KZlrf7PFrRR273v2iXsgT2i1kPWoXADHdKHmYHNUK6asfJh5jIZqGHDteDHm9UIRPOhFho/TCTqt8jlIvXPe0CDeNR/FmprPZAkSw91FErmf6k2TFve1t2jJTSUQP5tTxS5deYQ7eCL2LaQYsmL9Xa4P+zXv739ZtO01PnBfZnKuJbzI2OfqlCllokNuColzq9yZAA5pxCWBlf59/X2Pw+fV+E8NZZkgyrx5ELFxipwn/abozZSyeJOqjGMARbhhv/ECAwEAAQ==\";\n    \n    input = base64Decode(input.split(\"##\")[1]);\n    let pData = input.split(\"_\");\n    //log(pData[2])\n    //log(pData[3])\n    //var t = Math.floor(new Date().getTime() /1000);\n     var t = new Date()/1000;\n    t = (t - t % 60).toString();\n    //log(t)\n    var json = {\n        \"m\": \"play\",\n        \"t\": md5(md5(\"play\"+pData[2]+pData[3])+\"1449682949\"+t),\n        \"aid\": pData[2],\n        \"pid\": pData[3]\n    }\n    //log(json)\n    var str = JSON.stringify(json);\n    let data = rsaEncrypt(str, PUBLIC_KEY)\n    //log(data)\n    let html = fetch(\"https://apk-lb-play.fodexin.com/api2/web/index.php/?r=api\", {\n        headers: {\n            \"Referer\": \"https://apk-lb.iiszg.com/\",\n            \"User-Agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36\",\n            \"content-type\":\"application/x-www-form-urlencoded\"\n        },\n        body: \"version=1.1.3&params=\" + data,\n        method: 'POST'\n    });\n    let json = JSON.parse(html);\n    //log(json)\n    //log(json.data.url)\n    return json.data.url + \";{Referer@https://apk-lb.iiszg.com/}#isMusic=true#\"\n})\nif (getMyVar('顺序', '正序') == '正序') {\n    var ordtext = \"★正序↓\";\n} else {\n    var ordtext = \"☆逆序↑\";\n}\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"#f13b66a\">' + title + '</front></strong>';\n}\n\n//默认数据列表\nvar setLists = function (d, pdata, lazy) {\n    var len = pdata.length;\n    if (getMyVar('顺序', '正序') == '逆序') {\n        pdata = pdata.reverse();\n    }\n    for (var i = 0; i < len; i++) {\n        d.push({\n            title: pdata[i].chapterName,\n            url: \"hiker://empty##\" + pdata[i].chapterId + lazy,\n            col_type: 'text_3',\n            extra: {\n                id: pdata[i].chapterId,\n                cls: \"itemid\"\n            }\n        });\n    }\n}\n//线路匹配，加载对应数据\ntabs.forEach((Tabname, i) => {\n    //log(Tabname)\n    d.push({\n        title: getMyVar('tabnum', '0') == i ? getHead(Tabname) : Tabname,\n        url: $(\"#noLoading#\").lazyRule((orderid, cls, setLists, getHead, tabs, Tabname, playlists, i, lazy) => {\n            deleteItemByCls(cls);\n            let d = [];\n            let list = playlists[i];           \n            setLists(d, list, lazy)\n            \n            //在排序id后面添加列表\n            addItemAfter(orderid, d);\n            updateItem(\"tabid\" + getMyVar(\"tabnum\", \"0\"), {\n                title: tabs[parseInt(getMyVar(\"tabnum\", \"0\"))]\n            });\n            //log(Tabname)\n\n            updateItem(\"tabid\" + i, {\n                title: getHead(Tabname)\n            });\n\n            putMyVar(\"tabnum\", i);\n            //return 'toast://切换成功!'\n            return \"hiker://empty\"\n        }, \"orderid\", \"itemid\", setLists, getHead, tabs, Tabname, playlists, i, lazy),\n        col_type: \"flex_button\",\n        extra: {\n            id: \"tabid\" + i\n        }\n    });\n})\n\n//排序设置\nd.push({\n    title: '‘‘’’<span style=\"color:#098AC1\"><small>播放列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + ordtext + '</small>',\n    url: $('#noLoading#').lazyRule((orderid, cls, setLists, playlists, lazy) => {\n        deleteItemByCls(cls);\n        var d = [];\n        let list = playlists[parseInt(getMyVar(\"tabnum\", \"0\"))];\n        if (getMyVar('顺序', '正序') == '正序') {\n            putMyVar('顺序', '逆序');\n            var ordtext = \"☆逆序↑\";            \n        } else {\n            putMyVar('顺序', '正序');\n            var ordtext = \"★正序↓\";                        \n        }\n        setLists(d, list, lazy)\n        //log(d[0])\n        addItemAfter(orderid, d);\n        //refreshPage(true);\n        updateItem(orderid, {\n            title: '‘‘’’<span style=\"color:#098AC1\"><small>播放列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + ordtext + '</small>'\n        });\n        return 'hiker://empty'\n    }, \"orderid\", \"itemid\", setLists, playlists, lazy),\n    col_type: 'text_center_1',\n    extra: {\n        id: \"orderid\",\n    }\n})\n\nsetLists(d, playlists[0], lazy)\n\nlet newstip = info.latestChapterName;\nif (newstip) {\n    setLastChapterRule('js:' + $.toString((newstip) => {\n        setResult('更新至:' + newstip);\n    }, newstip));\n}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"解密算法\",\"path\":\"function\",\"rule\":\"var javaImport = new JavaImporter();\\njavaImport.importPackage(\\n    Packages.java.lang,\\n    Packages.java.security,\\n    Packages.java.util,\\n    Packages.java.io,\\n    Packages.java.text,\\n    Packages.javax.crypto,\\n    Packages.javax.crypto.spec\\n);\\nwith(javaImport) {\\n    function desDecode(str, key) {\\n        var keyBytes = String(key).getBytes();\\n        var desKeySpec = new SecretKeySpec(keyBytes, \\\"DES\\\");\\n        var instance = Cipher.getInstance(\\\"des/ECB/PKCS7Padding\\\");\\n        instance.init(2, desKeySpec);\\n        return String(instance.doFinal(_base64.decode(str, 2)));\\n    }\\n}\\n$.exports.desDecode = desDecode;\"}]","proxy":"","icon":"https://fyts-res2.cdn.bcebos.com/site1/image/fy-logo.png"},{"last_chapter_rule":"","title":"吾爱破解𝔥","author":"Hood","version":4,"type":"news","url":"https://www.52pojie.cn/forum.php?mod=guide&view=fyclass&page=fypage","col_type":"text_1","class_name":"最新热门&最新精华&最新回复&最新发表","class_url":"hot&digest&new&newthread","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//列表\nvar list = parseDomForArray(html,'body&&tbody[id]');\n\nfor(var i=0; i<list.length; i++){\n    d.push({\n        title: i+1 + ',' +parseDomForHtml(list[i],'.xst&&Text'),\n        url:'x5://https://www.52pojie.cn/'+parseDomForHtml(list[i],'a&&href'),\n        col_type: 'text_1'\n    });\n}\n\nd.push({col_type: 'line_blank'});\n\r\nres.data = d;\nsetHomeResult(res);","searchFind":"body&&.result;\nh3&&Text;\na&&href;\n;\n.c-abstract&&Text;","search_url":"http://zhannei.%62%61%69%64%75%2e%63%6f%6d/cse/site?q=**&p=fypage&cc=52pojie.cn","group":"其它","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"https://www.52pojie.cn/favicon.ico"},{"last_chapter_rule":"","title":"423Down","author":"香雅情","version":1,"type":"news","url":"https://www.423down.com/fyAllpage/fypage;get;utf-8;{User-Agent@Mozilla/5.0 (Linux；； Android 10) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/80.0.3987.132 Mobile Safari/537.36}","col_type":"movie_1","class_name":"首页&安卓软件","class_url":"&apk/","area_name":"原创软件&媒体播放&网页浏览&图形图像&聊天软件&办公软件&上传下载&实用软件&系统辅助&系统必备&安全软件&补丁相关&硬件相关&游戏软件","area_url":"zd423/&multimedia/&browser/&image/&im/&work/&down/&safewore/&systemsoft/&systemplus/&security/&patch/&hardware/&game/","sort_name":"","year_name":"Windows11&Windows10&Windows7&WindowsXP&WinPE","sort_url":"","year_url":"win11/&win10/&win7/&winxp/&pe-system/","find_rule":"js:\nvar items = [];var html=getResCode();\n//log(html);\nvar list = parseDomForArray(html,'.archive-list&&li:not(:contains(优惠推荐))');\n\r\n    for (var i = 0; i < list.length; i++) {\r\n        var title = parseDomForHtml(list[i], 'h2&&Text');\n        var img = parseDom(list[i], 'img&&src');\r\n        var url = parseDom(list[i], 'a&&href');\n        var desc = parseDomForHtml(list[i], '.item-meta&&Text');\r\n        items.push({\r\n            title: title,\n            pic_url: img,\r\n            url: url,\n            desc: desc\r\n        });\r\n    }\n\nsetHomeResult({data:items});","searchFind":".archive-list&&li;h2&&Text;a&&href;.item-category&&Text;.item-meta&&Text;img&&src","search_url":"https://www.423down.com/page/fypage?s=**;get;utf-8;{User-Agent@Mozilla/5.0 (Linux；； Android 10) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/80.0.3987.132 Mobile Safari/537.36}","group":"其它","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d=[];\nvar html=getResCode();\nvar tabs=parseDomForHtml(html,'body&&.entry&&Html');\n\nd.push({\n\t\t\ttitle: tabs,\n    desc:'',\n    pic_url:'',\n    url:'',\n\t\tcol_type: 'rich_text'\n});\n\nsetHomeResult({data:d});","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","proxy":"","icon":"https://www.423down.com/favicon.ico"},{"last_chapter_rule":"","title":"果核剥壳","author":"微笑","version":1,"type":"news","url":"https://www.ghpym.com/category/all/fyAll/page/fypage","col_type":"movie_1_left_pic","class_name":"最新&PC&安卓&补丁/注册机&系统","class_url":"&pcsoft&android&patch&system","area_name":"实验室&视频资源&文档图书","area_url":"laboratory&videos&course","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".post-loop&&.item:not(:matches(公告));h2&&Text;img&&data-original.js:input.replace(\"/./\",\"/\")+\"@Referer=\"+input.replace(/\\.com\\/.*/,\".com\");.item-meta&&Text.js: '⏰' + input.replace(' ','\\r🔥').replace(' ','\\r👍').replace(' ','\\r💬').replace(' ','\\r❤️');\na&&href.js:input+\"#readTheme#\";","searchFind":".post-loop&&li;\nh2&&Text;\na&&href.js:input+\"#readTheme#\";\n.item-meta&&Text.js: '⏰' + input.replace(' ','\\r🔥').replace(' ','\\r👍').replace(' ','\\r💬').replace(' ','\\r❤️');\n.item-excerpt&&Text;\nimg&&data-original.js:input.replace(\"/./\",\"/\")+\"@Referer=\"+input.replace(/\\.com\\/.*/,\".com\")","search_url":"https://www.ghxi.com/page/fypage?s=**","group":"其它","detail_col_type":"movie_1","detail_find_rule":"js:var res={};\nvar d = [];\nd.push({\n    col_type: \"text_1\",\n    title: \"““””<big>\" + parseDomForHtml(getResCode(), \"h1&&Text\") + \"</big>\",\n});\nd.push({\n    title: parseDomForHtml(getResCode(), \".entry-content&&Html\"),\n    col_type: 'rich_text',\n    extra: {\n        textSize: 16,\n        click: true\n    }\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","proxy":"","icon":"https://www.ghxi.com/favicon.ico"},{"last_chapter_rule":"","title":"异星软件","author":"香雅情","version":1,"type":"news","url":"https://www.yxssp.com/fyclass/page/fypage","col_type":"movie_1","class_name":"首页&软件&资源&视频&Android&Windows","class_url":"&haoyongruanjian&ziyuankongjian&rysp&os/android&os/windows","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".td-ss-main-content&&.td_module_wrap;h3&&Text;img&&src;.td-module-meta-info&&Text;a&&href","searchFind":".td-ss-main-content&&.td_module_wrap;h3&&Text;a&&href;;.td-module-meta-info&&Text;img&&src","search_url":"https://www.yxssp.com/page/fypage?s=**","group":"其它","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d=[];\nvar html=getResCode();\nvar tabs=parseDomForHtml(html,'body&&.td-post-content&&Html').replace(/\\<script[\\S\\s]*?<\\/script\\>/g,'');\n\nd.push({\n\t\t\ttitle: tabs,\n    desc:'',\n    pic_url:'',\n    url:'',\n\t\tcol_type: 'rich_text'\n});\n\nsetHomeResult({data:d});","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"https://www.yxssp.com/wp-content/uploads/2017/12/yx250.png"},{"last_chapter_rule":"","title":"蓝莓图标.dz","author":"道长&蓝莓果酱UX","version":28,"type":"picture","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst canUse = $.require(\"hiker://page/deng\");\nif (canUse) {\n    \nconst {color, small} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\nlet host = 'https://lanmeiguojiang.com/tubiao/';\nlet names = '影视&系统&2D&音乐&Q版&可爱&更多&其它'.split('&');\nlet keys = 'movie&system&erdi&music&q&ke&more&messy'.split('&');\nlet d=[];\nfor(let i in names){\n    d.push({\n        title:names[i]===getVar('lm.icon','影视')?color(names[i],'#00bbf0'):names[i],\n        url:$().lazyRule((name,key)=>{\n            putVar('lm.icon',name);\n            putVar('lm.iconKey',key);\n            refreshPage(true);\n            return 'hiker://empty'\n        },names[i],keys[i]),\n        col_type:'scroll_button'\n    });\n}\nlet max = 1;\nlet ext = '.svg';\nswitch (getVar('lm.icon','影视')){\n    case '影视':\n        max = 146;\n        break;\n    case '系统':\n        max = 148;\n        ext = '.png';\n        break;\n   case '2D':\n        max = 321;\n        ext = '.png';\n        break;\n    case '音乐':\n        max = 152;\n        ext = '.svg';\n        break;\n    case 'Q版':\n        max = 169;\n        ext = '.png';\n        break;\n    case '可爱':\n        max = 179;\n        ext = '.png';\n        break;\n    case '更多':\n        max = 343;\n        ext = '.png';\n        break;\n    case '其它':\n        max = 186;\n        ext = '.svg';\n        break;\n    default:\n        max = 1;\n}\nfor(let j=1;j<=max;j++){\n    let pic = host+getVar('lm.iconKey','movie')+'/'+j+ext;\n    d.push({\n        col_type: 'icon_small_4',\n        //col_type: 'icon_4_card',\n        title:j+ext,\n        pic_url:pic,\n        url:$('#noLoading#').lazyRule((pic)=>{\n            copy(pic);\n            return 'hiker://empty'\n        },pic)\n    });\n}\nsetResult(d);\n\n}","searchFind":"","search_url":"","group":"其它","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"deng\",\"path\":\"deng\",\"rule\":\"function canUse() {\\n    //如果更新了规则也要限流，可以修改key\\n    let key = \\\"lock2\\\"\\n    //等待分钟数\\n    let waitMin = 5\\n    \\n    let min = Math.round(Math.random() * 1000 * 60 * waitMin)\\n    let unlock = new Date().getTime() + min;\\n    let time = getItem(key, \\\"\\\");\\n    if (time == \\\"\\\") {\\n        setItem(key, \\\"\\\" + unlock)\\n        let st = new Date(unlock).toLocaleString().replace(/:\\\\d{1,2}$/, ' ');\\n\\n        let msg = \\\"\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\使用需知<br><br>这是您第一次使用/更新该版本规则，下面为使用介绍，请仔细阅读。本规则将在\\\" + st + \\\"解锁使用。<br><br>ⓐ本小程序图标分为影视图标、音乐图标、其它、更多以及Q版图标<br>ⓑ影视图标共146个、音乐图标共152个、Q版图标共138个、更多图标343个、其它图标若干，欢迎大家前来挑选自己喜爱的一个<br>ⓒ使用方法：你喜欢哪个图标点下对应图标就会自动复制图标链接，然后粘贴到你想添加的位置即可<br>ⓓ本小程序的图标数量和类型会不定期增加届时请及时到仓库导入新版<br>ⓔ如遇到重复图标/不显示图标/少号图标请及时到仓库或者论坛反馈<br>ⓕ请仔细阅读以上内容并且到时间后重新访问本规则或者等待时间到了刷新本页面即可。<br><br>Tips:图标为本人精心挑选，种类多、图标优美、风格百态，本次新增更多图383个！\\\"\\n        setResult([{\\n            title: msg,\\n            col_type: \\\"rich_text\\\"\\n        }])\\n        return false\\n    } else if (parseInt(time) < new Date().getTime()) {\\n        return true\\n    } else {\\n        let st = new Date(parseInt(time)).toLocaleString().replace(/:\\\\d{1,2}$/, ' ');\\n\\n        let msg = \\\"\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\使用需知<br><br>这是您第一次使用/更新该小程序规则，下面为使用介绍，请仔细阅读。本规则将在\\\" + st + \\\"解锁使用。<br><br>ⓐ本小程序图标分为影视图标、音乐图标、其它、更多以及Q版图标<br>ⓑ影视图标共146个、音乐图标共152个、Q版图标共138个、更多图标343个、其它图标若干，欢迎大家前来挑选自己喜爱的一个<br>ⓒ使用方法：你喜欢哪个图标点下对应图标就会自动复制图标链接，然后粘贴到你想添加的位置即可<br>ⓓ本小程序的图标数量和类型会不定期增加届时请及时到仓库导入新版<br>ⓔ如遇到重复图标/不显示图标/少号图标请及时到仓库或者论坛反馈<br>ⓕ请仔细阅读以上内容并且到时间后重新访问本规则或者等待时间到了刷新本页面即可。<br><br>Tips:图标为本人精心挑选，种类多、图标优美、风格百态，本次新增更多图383个！\\\"\\n        setResult([{\\n            title: msg,\\n            col_type: \\\"rich_text\\\"\\n        }])\\n        return false\\n    }\\n}\\n$.exports = canUse();\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/q/2.png"},{"last_chapter_rule":"","title":"Iconfont","author":"TyrantGenesis","version":1,"type":"picture","url":"https://www.iconfont.cn/api/collections.json?type=fyclass&sort=fysort&limit=8&page=fypage","col_type":"movie_3","class_name":"所有图标库&官方图标库&多色图标库&单色图标库","class_url":"3&1&2&4","area_name":"","area_url":"","sort_name":"时间&点赞数&收藏数&图标数&访问量","year_name":"","sort_url":"time&like&favorite&icon&visit","year_url":"","find_rule":"js:\n$.require('hiker://page/Iconfont').baseParse()","searchFind":"","search_url":"","group":"其它","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"name\":\"Iconfont\",\"path\":\"Iconfont\",\"rule\":\"const Iconfont = {\\n    empty: 'hiker://empty',\\n    d: [],\\n    files: {\\n        likes: \\\"hiker://files/rules/js/TyrantGenesis_Iconfont收藏.js\\\",\\n    },\\n    collectionListParse: (list) => {\\n        list.forEach(item => {\\n            Iconfont.d.push(\\n                {\\n                    title: item.User.nickname,\\n                    url: $(Iconfont.empty).rule((id) => {\\n                        const Iconfont = $.require('hiker://page/Iconfont')\\n                        Iconfont.userParse(id)\\n                        setResult(Iconfont.d)\\n                    }, item.User.id),\\n                    pic_url: 'https:'+item.User.avatar+'@Referer=https://www.iconfont.cn/',\\n                    col_type: 'avatar',\\n                },\\n                {\\n                    title: '图标集：'+item.name,\\n                    url: $(Iconfont.empty).rule((id) => {\\n                        const Iconfont = $.require('hiker://page/Iconfont')\\n                        Iconfont.collectionParse(id)\\n                        setResult(Iconfont.d)\\n                    }, item.id),\\n                    col_type: 'text_1',\\n                    extra: {\\n                        lineVisible: false,\\n                    },\\n                }\\n            )\\n            item.icons.forEach(icon => {\\n                let svg_url = 'https://iconfont.tyrantg.com/api/illustrate.svg?svg_string='+encodeURIComponent(icon.show_svg)\\n                Iconfont.d.push({\\n                    title: icon.name,\\n                    url: $(Iconfont.empty).rule((name, show_svg) => {\\n                        const Iconfont = $.require('hiker://page/Iconfont')\\n                        Iconfont.iconParse(name, show_svg)\\n                        setResult(Iconfont.d)\\n                    }, icon.name, icon.show_svg),\\n                    pic_url: svg_url,\\n                    col_type: 'icon_5',\\n                })\\n            })\\n            Iconfont.d.push({\\n                col_type: 'line_blank'\\n            })\\n        })\\n    },\\n    userParse: (uid) => {\\n        const url = 'https://www.iconfont.cn/api/user/collections.json?uid='+uid+'&type=icon'\\n        const json = JSON.parse(fetch(url))\\n        const list = json.data.collections\\n\\n        list.forEach(item => {\\n            if (item.has_secret === 0) {\\n                Iconfont.d.push({\\n                    title: '图标集：'+item.name,\\n                    url: $(Iconfont.empty).rule((id) => {\\n                        const Iconfont = $.require('hiker://page/Iconfont')\\n                        Iconfont.collectionParse(id)\\n                        setResult(Iconfont.d)\\n                    }, item.id),\\n                    col_type: 'text_1',\\n                    extra: {\\n                        lineVisible: false,\\n                    },\\n                })\\n                item.icons.forEach(icon => {\\n                    let svg_url = 'https://iconfont.tyrantg.com/api/illustrate.svg?svg_string='+encodeURIComponent(icon.show_svg)\\n                    Iconfont.d.push({\\n                        title: icon.name,\\n                        url: $(Iconfont.empty).rule((name, show_svg) => {\\n                            const Iconfont = $.require('hiker://page/Iconfont')\\n                            Iconfont.iconParse(name, show_svg)\\n                            setResult(Iconfont.d)\\n                        }, icon.name, icon.show_svg),\\n                        pic_url: svg_url,\\n                        col_type: 'icon_5',\\n                    })\\n                })\\n                Iconfont.d.push({\\n                    col_type: 'line_blank'\\n                })\\n            }\\n        })\\n    },\\n    iconParse: (name, svg_url) => {\\n        let true_svg_url = 'https://iconfont.tyrantg.com/api/illustrate.svg?svg_string='+encodeURIComponent(svg_url)\\n        Iconfont.d.push(\\n            {\\n                url: 'copy://'+true_svg_url,\\n                pic_url: true_svg_url,\\n                col_type: 'pic_1_full',\\n            },\\n            {\\n                title: '复制图标',\\n                url: 'copy://'+true_svg_url,\\n                col_type: 'text_center_1',\\n            },\\n            {\\n                title: '复制SVG',\\n                url: 'copy://'+svg_url,\\n                col_type: 'text_center_1',\\n            },\\n            {\\n                title: '收藏图标',\\n                url: $(true_svg_url).lazyRule((name, svg_url) => {\\n                    const Iconfont = $.require('hiker://page/Iconfont')\\n                    let attention = name+'$$$'+svg_url\\n\\n                    if (! fileExist(Iconfont.files.likes)) {\\n                        writeFile(Iconfont.files.likes, attention)\\n                    } else {\\n                        writeFile(Iconfont.files.likes, fetch(Iconfont.files.likes)+\\\"\\\\n\\\"+attention)\\n                    }\\n                    refreshPage(false)\\n                    return \\\"toast://收藏成功\\\"\\n                }, name, svg_url),\\n                col_type: 'text_center_1',\\n            },\\n        )\\n    },\\n    collectionParse: (id) => {\\n        const url = 'https://www.iconfont.cn/api/collection/detail.json?id='+id\\n        const json = JSON.parse(fetch(url))\\n        const list = json.data.icons\\n\\n        list.forEach(icon => {\\n            let svg_url = 'https://iconfont.tyrantg.com/api/illustrate.svg?svg_string='+encodeURIComponent(icon.show_svg)\\n            Iconfont.d.push({\\n                title: icon.name,\\n                url: $(Iconfont.empty).rule((name, show_svg) => {\\n                    const Iconfont = $.require('hiker://page/Iconfont')\\n                    Iconfont.iconParse(name, show_svg)\\n                    setResult(Iconfont.d)\\n                }, icon.name, icon.show_svg),\\n                pic_url: svg_url,\\n                col_type: 'icon_5',\\n            })\\n        })\\n    },\\n    baseParse: () => {\\n        const json = JSON.parse(getResCode())\\n\\n        if (parseInt(MY_PAGE) === 1) {\\n            Iconfont.d.push(\\n                {\\n                    url: $(Iconfont.empty+\\\"#fullTheme#$$fypage\\\").rule(() => {\\n                        const Iconfont = $.require('hiker://page/Iconfont')\\n                        Iconfont.iconSearchParse()\\n                        setResult(Iconfont.d)\\n                    }),\\n                    pic_url: 'https://iconfont.tyrantg.com/search.svg',\\n                    title: '单图标搜索',\\n                    col_type: \\\"icon_4\\\",\\n                },\\n                {\\n                    url: $(Iconfont.empty+\\\"#fullTheme#$$fypage\\\").rule(() => {\\n                        const Iconfont = $.require('hiker://page/Iconfont')\\n                        Iconfont.collectionSearchParse()\\n                        setResult(Iconfont.d)\\n                    }),\\n                    pic_url: 'https://iconfont.tyrantg.com/collection.svg',\\n                    title: '图标集搜索',\\n                    col_type: \\\"icon_4\\\",\\n                },\\n                {\\n                    url: $(Iconfont.empty).rule(() => {\\n                        const Iconfont = $.require('hiker://page/Iconfont')\\n                        Iconfont.likesParse()\\n                        setResult(Iconfont.d)\\n                    }),\\n                    pic_url: 'https://iconfont.tyrantg.com/like.svg',\\n                    title: '收藏图标',\\n                    col_type: \\\"icon_4\\\",\\n                },\\n                // {\\n                //     url: $(Iconfont.empty+\\\"#fullTheme#$$fypage\\\").rule(() => {\\n                //         const Iconfont = $.require('hiker://page/Iconfont')\\n                //         Iconfont.likesParse()\\n                //         setResult(Iconfont.d)\\n                //     }),\\n                //     pic_url: 'https://iconfont.tyrantg.com/tool.svg',\\n                //     title: '工具',\\n                //     col_type: \\\"icon_4\\\",\\n                // },\\n                {\\n                    col_type: 'line_blank'\\n                }\\n            )\\n        }\\n\\n        Iconfont.collectionListParse(json.data.lists)\\n        setResult(Iconfont.d)\\n    },\\n    collectionSearchParse: () => {\\n        addListener('onClose', $.toString(() => {\\n            clearItem('searchValue')\\n        }))\\n\\n        const page = MY_URL.split('$$')[1]\\n\\n        if (parseInt(page) === 1) {\\n            Iconfont.d.push({\\n                title: '搜索',\\n                url: $.toString(() => {\\n                    setItem('searchValue', input)\\n                    refreshPage(false)\\n                    return \\\"hiker://empty\\\"\\n                }),\\n                desc: '请输入关键词',\\n                col_type: 'input',\\n                extra: {\\n                    defaultValue: getItem('searchValue', ''),\\n                    onChange: $.toString(() => {\\n                        if (getItem('searchValue', '') && !input) {\\n                            clearItem('searchValue')\\n                            refreshPage(false)\\n                            return \\\"hiker://empty\\\"\\n                        }\\n                    })\\n                }\\n            })\\n        }\\n\\n        const url = 'https://www.iconfont.cn/api/collections.json?type=3&sort=time&limit=8&page='+page+'&keyword='+getItem('searchValue', '')\\n        const json = JSON.parse(fetch(url))\\n        Iconfont.collectionListParse(json.data.lists)\\n        setResult(Iconfont.d)\\n    },\\n    iconSearchParse: () => {\\n        addListener('onClose', $.toString(() => {\\n            clearItem('searchValue')\\n        }))\\n\\n        const page = MY_URL.split('$$')[1]\\n\\n        if (parseInt(page) === 1) {\\n            Iconfont.d.push({\\n                title: '搜索',\\n                url: $.toString(() => {\\n                    setItem('searchValue', input)\\n                    refreshPage(false)\\n                    return \\\"hiker://empty\\\"\\n                }),\\n                desc: '请输入关键词',\\n                col_type: 'input',\\n                extra: {\\n                    defaultValue: getItem('searchValue', ''),\\n                    onChange: $.toString(() => {\\n                        if (getItem('searchValue', '') && !input) {\\n                            clearItem('searchValue')\\n                            refreshPage(false)\\n                            return \\\"hiker://empty\\\"\\n                        }\\n                    })\\n                }\\n            })\\n        }\\n\\n        if (getItem('searchValue', '') !== '') {\\n            const json = JSON.parse(fetch('https://www.iconfont.cn/api/icon/search.json', {\\n                headers: {\\n                    Cookie: 'ctoken=ctoken;',\\n                },\\n                method: 'POST',\\n                body: {\\n                    q: getItem('searchValue', ''),\\n                    sortType: 'updated_at',\\n                    page: page,\\n                    pageSize: 60,\\n                    ctoken: 'ctoken',\\n                }\\n            }))\\n\\n            const list = json.data.icons\\n\\n            list.forEach(icon => {\\n                let svg_url = 'https://iconfont.tyrantg.com/api/illustrate.svg?svg_string='+encodeURIComponent(icon.show_svg)\\n                Iconfont.d.push({\\n                    title: icon.name,\\n                    url: $(Iconfont.empty).rule((name, show_svg) => {\\n                        const Iconfont = $.require('hiker://page/Iconfont')\\n                        Iconfont.iconParse(name, show_svg)\\n                        setResult(Iconfont.d)\\n                    }, icon.name, icon.show_svg),\\n                    pic_url: svg_url,\\n                    col_type: 'icon_5',\\n                })\\n            })\\n        }\\n    },\\n    likesParse: () => {\\n        const list = fetch(Iconfont.files.likes).split(\\\"\\\\n\\\")\\n\\n        list.forEach((icon, index) => {\\n            if (icon) {\\n                let [name, svg] = icon.split('$$$')\\n                let svg_url = 'https://iconfont.tyrantg.com/api/illustrate.svg?svg_string='+encodeURIComponent(svg)\\n\\n                Iconfont.d.push({\\n                    title: name,\\n                    url: $(Iconfont.empty).rule((name, svg) => {\\n                        const Iconfont = $.require('hiker://page/Iconfont')\\n                        Iconfont.iconParse(name, svg)\\n                        setResult(Iconfont.d)\\n                    }, name, svg),\\n                    pic_url: svg_url,\\n                    col_type: 'icon_5',\\n                    extra: {\\n                        longClick: [\\n                            {\\n                                title: '置顶图标',\\n                                js: $.toString((list, index) => {\\n                                    const Iconfont = $.require('hiker://page/Iconfont')\\n                                    const current = list[index]\\n                                    list.splice(index, 1)\\n                                    list.unshift(current)\\n                                    writeFile(Iconfont.files.likes, list.join(\\\"\\\\n\\\"))\\n                                    refreshPage(false)\\n                                    return \\\"toast://置顶成功\\\"\\n                                }, list, index)\\n                            },\\n                            {\\n                                title: '取消收藏',\\n                                js: $.toString((list, index) => {\\n                                    const Iconfont = $.require('hiker://page/Iconfont')\\n                                    list.splice(index, 1)\\n                                    writeFile(Iconfont.files.likes, list.join(\\\"\\\\n\\\"))\\n                                    refreshPage(false)\\n                                    return \\\"toast://取消成功\\\"\\n                                }, list, index)\\n                            },\\n                        ],\\n                    },\\n                })\\n            }\\n        })\\n    },\\n    toolParse: () => {\\n\\n    },\\n}\\n\\n$.exports = Iconfont\\n\"}]","proxy":"","icon":"https://iconfont.tyrantg.com/icon.svg"}]